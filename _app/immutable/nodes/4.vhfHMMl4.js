import{E as S,a as W,e as v,f as b,h as w,k as g,w as p,m as $,F as x,x as M,t as ee,d as O,j as te,l as E,o as k,p as le,G as D,H as C,A as X,I as ae,J as ne,v as se,K as Y,q as re}from"../chunks/scheduler.y_e3x3CM.js";import{S as Z,i as B,f as ie,h as oe,t as V,a as I,c as ce,b as fe,d as he,m as ue,e as _e,g as me}from"../chunks/index.nOtMRckJ.js";import{e as j,u as de,d as pe,m as ge,a as ve}from"../chunks/stores.JVLvddVK.js";/* empty css                    */import{d as be}from"../chunks/index.8mv9QP7T.js";const ke=!1,Se=Object.freeze(Object.defineProperty({__proto__:null,ssr:ke},Symbol.toStringTag,{value:"Module"}));function $e(r){const e=r-1;return e*e*e+1}function H(r,{delay:e=0,duration:t=400,easing:l=$e,x:a=0,y:n=0,opacity:i=0}={}){const c=getComputedStyle(r),f=+c.opacity,o=c.transform==="none"?"":c.transform,u=f*(1-i),[s,h]=S(a),[_,d]=S(n);return{delay:e,duration:t,easing:l,css:(m,y)=>`
			transform: ${o} translate(${(1-m)*s}${h}, ${(1-m)*_}${d});
			opacity: ${f-u*y}`}}function q(r,e,t){const l=r.slice();return l[1]=e[t].latLng,l[2]=e[t].visible,l[3]=e[t].name,l[4]=e[t].description,l[5]=e[t].photos,l[7]=t,l}function P(r,e,t){const l=r.slice();return l[8]=e[t].url,l[9]=e[t].alt,l}function T(r){let e,t,l=r[3]+"",a,n,i,c,f=r[5]&&r[5].length&&G(r),o=r[4]&&A(r);return{c(){e=v("div"),t=v("h3"),a=ee(l),n=O(),f&&f.c(),i=O(),o&&o.c(),c=O(),this.h()},l(u){e=b(u,"DIV",{class:!0});var s=w(e);t=b(s,"H3",{});var h=w(t);a=te(h,l),h.forEach(g),n=E(s),f&&f.l(s),i=E(s),o&&o.l(s),c=E(s),s.forEach(g),this.h()},h(){p(e,"class","marker")},m(u,s){$(u,e,s),k(e,t),k(t,a),k(e,n),f&&f.m(e,null),k(e,i),o&&o.m(e,null),k(e,c)},p(u,s){s&1&&l!==(l=u[3]+"")&&le(a,l),u[5]&&u[5].length?f?f.p(u,s):(f=G(u),f.c(),f.m(e,i)):f&&(f.d(1),f=null),u[4]?o?o.p(u,s):(o=A(u),o.c(),o.m(e,c)):o&&(o.d(1),o=null)},d(u){u&&g(e),f&&f.d(),o&&o.d()}}}function G(r){let e,t=j(r[5]),l=[];for(let a=0;a<t.length;a+=1)l[a]=N(P(r,t,a));return{c(){e=v("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var n=w(e);for(let i=0;i<l.length;i+=1)l[i].l(n);n.forEach(g),this.h()},h(){p(e,"class","flex flex-row svelte-1ke2pp2")},m(a,n){$(a,e,n);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null)},p(a,n){if(n&1){t=j(a[5]);let i;for(i=0;i<t.length;i+=1){const c=P(a,t,i);l[i]?l[i].p(c,n):(l[i]=N(c),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=t.length}},d(a){a&&g(e),D(l,a)}}}function N(r){let e,t,l;return{c(){e=v("img"),this.h()},l(a){e=b(a,"IMG",{src:!0,alt:!0,style:!0}),this.h()},h(){C(e.src,t=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${r[8]}`)||p(e,"src",t),p(e,"alt",l=r[9]),X(e,"height","auto")},m(a,n){$(a,e,n)},p(a,n){n&1&&!C(e.src,t=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${a[8]}`)&&p(e,"src",t),n&1&&l!==(l=a[9])&&p(e,"alt",l)},d(a){a&&g(e)}}}function A(r){let e,t,l=r[4]+"";return{c(){e=v("p"),t=new ae(!1),this.h()},l(a){e=b(a,"P",{class:!0});var n=w(e);t=ne(n,!1),n.forEach(g),this.h()},h(){t.a=null,p(e,"class","description svelte-1ke2pp2")},m(a,n){$(a,e,n),t.m(l,e)},p(a,n){n&1&&l!==(l=a[4]+"")&&t.p(l)},d(a){a&&g(e)}}}function R(r,e){let t,l,a=e[2]&&T(e);return{key:r,first:null,c(){t=M(),a&&a.c(),l=M(),this.h()},l(n){t=M(),a&&a.l(n),l=M(),this.h()},h(){this.first=t},m(n,i){$(n,t,i),a&&a.m(n,i),$(n,l,i)},p(n,i){e=n,e[2]?a?a.p(e,i):(a=T(e),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(n){n&&(g(t),g(l)),a&&a.d(n)}}}function ye(r){let e,t=[],l=new Map,a,n,i,c=j(r[0]);const f=o=>o[1].join(",")+"-"+o[7];for(let o=0;o<c.length;o+=1){let u=q(r,c,o),s=f(u);l.set(s,t[o]=R(s,u))}return{c(){e=v("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var u=w(e);for(let s=0;s<t.length;s+=1)t[s].l(u);u.forEach(g),this.h()},h(){p(e,"class","sidebar svelte-1ke2pp2")},m(o,u){$(o,e,u);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null);i=!0},p(o,[u]){u&1&&(c=j(o[0]),t=de(t,u,f,1,o,c,l,e,pe,R,null,q))},i(o){i||(o&&x(()=>{i&&(n&&n.end(1),a=ie(e,H,{x:300,duration:800}),a.start())}),i=!0)},o(o){a&&a.invalidate(),o&&(n=oe(e,H,{x:300,duration:800})),i=!1},d(o){o&&g(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&n&&n.end()}}}function we(r,e,t){let{selectedObject:l=[]}=e;return r.$$set=a=>{"selectedObject"in a&&t(0,l=a.selectedObject)},[l]}class je extends Z{constructor(e){super(),B(this,e,we,ye,W,{selectedObject:0})}}function U(r,e,t){const l=r.slice();return l[8]=e[t],l[10]=t,l}function z(r,e,t){const l=r.slice();return l[11]=e[t].url,l[12]=e[t].alt,l[14]=t,l}function F(r){let e,t,l=j(r[8].photos),a=[];for(let n=0;n<l.length;n+=1)a[n]=J(z(r,l,n));return{c(){e=v("div");for(let n=0;n<a.length;n+=1)a[n].c();t=O(),this.h()},l(n){e=b(n,"DIV",{class:!0,key:!0});var i=w(e);for(let c=0;c<a.length;c+=1)a[c].l(i);t=E(i),i.forEach(g),this.h()},h(){p(e,"class","image-container svelte-1btgaha"),p(e,"key",r[10])},m(n,i){$(n,e,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);k(e,t)},p(n,i){if(i&22){l=j(n[8].photos);let c;for(c=0;c<l.length;c+=1){const f=z(n,l,c);a[c]?a[c].p(f,i):(a[c]=J(f),a[c].c(),a[c].m(e,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}},d(n){n&&g(e),D(a,n)}}}function J(r){let e,t,l,a,n,i;function c(){return r[6](r[8])}return{c(){e=v("div"),t=v("img"),this.h()},l(f){e=b(f,"DIV",{class:!0,style:!0});var o=w(e);t=b(o,"IMG",{src:!0,alt:!0,key:!0,class:!0}),o.forEach(g),this.h()},h(){C(t.src,l=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${r[11]}`)||p(t,"src",l),p(t,"alt",a=r[12]),p(t,"key",r[14]),p(t,"class","svelte-1btgaha"),p(e,"class","photo-wrapper svelte-1btgaha"),X(e,"transform",r[2](r[14],r[10]))},m(f,o){$(f,e,o),k(e,t),n||(i=Y(t,"click",c),n=!0)},p(f,o){r=f,o&2&&!C(t.src,l=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${r[11]}`)&&p(t,"src",l),o&2&&a!==(a=r[12])&&p(t,"alt",a)},d(f){f&&g(e),n=!1,i()}}}function K(r){let e,t=r[8].photos&&r[8].photos.length&&F(r);return{c(){t&&t.c(),e=M()},l(l){t&&t.l(l),e=M()},m(l,a){t&&t.m(l,a),$(l,e,a)},p(l,a){l[8].photos&&l[8].photos.length?t?t.p(l,a):(t=F(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&g(e),t&&t.d(l)}}}function Q(r){let e,t;return e=new je({props:{selectedObject:r[0]}}),{c(){fe(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,a){ue(e,l,a),t=!0},p(l,a){const n={};a&1&&(n.selectedObject=l[0]),e.$set(n)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){_e(e,l)}}}function Me(r){let e,t,l="counter*map",a,n,i,c,f,o,u=j(r[1]),s=[];for(let _=0;_<u.length;_+=1)s[_]=K(U(r,u,_));let h=r[0].length>0&&Q(r);return{c(){e=v("main"),t=v("h1"),t.textContent=l,a=O(),n=v("div");for(let _=0;_<s.length;_+=1)s[_].c();i=O(),h&&h.c(),this.h()},l(_){e=b(_,"MAIN",{class:!0});var d=w(e);t=b(d,"H1",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-8cnduq"&&(t.textContent=l),a=E(d),n=b(d,"DIV",{class:!0});var m=w(n);for(let y=0;y<s.length;y+=1)s[y].l(m);m.forEach(g),i=E(d),h&&h.l(d),d.forEach(g),this.h()},h(){p(t,"class","svelte-1btgaha"),p(n,"class","image-grid svelte-1btgaha"),p(e,"class","svelte-1btgaha")},m(_,d){$(_,e,d),k(e,t),k(e,a),k(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);k(e,i),h&&h.m(e,null),c=!0,f||(o=Y(e,"click",r[5]),f=!0)},p(_,[d]){if(d&22){u=j(_[1]);let m;for(m=0;m<u.length;m+=1){const y=U(_,u,m);s[m]?s[m].p(y,d):(s[m]=K(y),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=u.length}_[0].length>0?h?(h.p(_,d),d&1&&V(h,1)):(h=Q(_),h.c(),V(h,1),h.m(e,null)):h&&(me(),I(h,1,1,()=>{h=null}),ce())},i(_){c||(V(h),c=!0)},o(_){I(h),c=!1},d(_){_&&g(e),D(s,_),h&&h.d(),f=!1,o()}}}function Oe(r,e,t){let l,a=[];const n=[(s,h)=>`translate(${h*100+s*50}px, ${s*70}px)`,(s,h)=>`translate(${-(h*100)+s*50}px, ${s*80}px)`,(s,h)=>`translate(${h*100+s*50}px, ${-(s*50)}px)`,(s,h)=>`translate(${-(h*100)+s*50}px, ${-(s*50)}px)`];function i(s,h){const _=(s+h)%n.length;return n[_](s,h)}const c=be([ge,ve],([s,h])=>{if(!h||typeof h.contains!="function")return[];const _=s.filter(d=>{const[m,y]=d.latLng;return h.contains(L.latLng(m,y))});for(let d=_.length-1;d>0;d--){const m=Math.floor(Math.random()*(d+1));[_[d],_[m]]=[_[m],_[d]]}return _.slice(0,4)});re(r,c,s=>t(1,l=s));function f(s){t(0,a=[s]),console.log("selectedObject",a)}function o(s){s.target===s.currentTarget&&t(0,a=[])}return[a,l,i,c,f,o,s=>f(s)]}class He extends Z{constructor(e){super(),B(this,e,Oe,Me,W,{})}}export{He as component,Se as universal};
