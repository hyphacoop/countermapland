import{a as fe,e as I,f as D,h as E,j as B,l as N,w as Y,m as P,n as ye,r as St,a0 as qe,o as Ye,a1 as Xe,v as Se,d as Pe,a2 as Le,z as je,B as At,a3 as Re,A as Qe,c as Pt,C as nn,u as It,g as Et,b as Ut,a4 as We,q as ve,t as ee,k as te,x as ge,_ as Rn,$ as Tn,a5 as Dt,p as zn,G as An,a6 as Nt}from"../chunks/scheduler.TSw44T5X.js";import{S as de,i as _e,d as O,v as me,b as k,f as v,c as z,e as b,l as K,t as R,o as re,a as T,h as ae,j as le,k as ce,m as ue,n as he,s as we,g as Te,u as Je,w as on,x as sn,q as Dn,r as Nn}from"../chunks/index.e435cjU7.js";import{c as Vn,i as ze,b as Vt,t as Zt,d as Ht,e as ke,g as Ne,f as xe,h as $e,L as $,j as Ae,a as Oe,l as et,k as Ft,n as qt,o as Zn,p as De,I as rn,q as Ue,r as tt,m as Xt,S as an,u as Hn,v as Ze,s as Qt}from"../chunks/Sidebar.fOt5dlTN.js";import{d as Wt}from"../chunks/index.hniTP0At.js";/* empty css                    */const Fn=!1,mi=Object.freeze(Object.defineProperty({__proto__:null,ssr:Fn},Symbol.toStringTag,{value:"Module"}));var Jt={exports:{}};(function(r,n){(function(s,a){a(n)})(Vn,function(s){var a=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,i=this._zoom;if(e.__parent)for(;t.__parent._zoom>=i;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):(e.getLatLng?this._map?e.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow())):(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e})):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e})),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var i,o=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,u=this.options.chunkInterval,d=this.options.chunkProgress,p=e.length,f=0,_=!0;if(this._map){var m=new Date().getTime(),C=L.bind(function(){var y=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();f<p;f++){if(c&&f%200==0){var w=new Date().getTime()-y;if(u<w)break}if((i=e[f])instanceof L.LayerGroup)_&&(e=e.slice(),_=!1),this._extractNonGroupLayers(i,e),p=e.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),t||this.fire("layeradd",{layer:i}),i.__parent&&i.__parent.getChildCount()===2)){var M=i.__parent.getAllChildMarkers(),j=M[0]===i?M[1]:M[0];o.removeLayer(j)}}else l.addLayer(i),t||this.fire("layeradd",{layer:i})}d&&d(f,p,new Date().getTime()-m),f===p?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(C,this.options.chunkDelay)},this);C()}else for(var g=this._needsClustering;f<p;f++)(i=e[f])instanceof L.LayerGroup?(_&&(e=e.slice(),_=!1),this._extractNonGroupLayers(i,e),p=e.length):i.getLatLng?this.hasLayer(i)||g.push(i):l.addLayer(i);return this},removeLayers:function(e){var t,i,o=e.length,l=this._featureGroup,c=this._nonPointGroup,u=!0;if(!this._map){for(t=0;t<o;t++)(i=e[t])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(i,e),o=e.length):(this._arraySplice(this._needsClustering,i),c.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var d=e.slice(),p=o;for(t=0;t<p;t++)(i=d[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,d),p=d.length):this._unspiderfyLayer(i)}for(t=0;t<o;t++)(i=e[t])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(i,e),o=e.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),l.hasLayer(i)&&(l.removeLayer(i),i.clusterShow&&i.clusterShow())):(c.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;0<=t;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var i,o,l,c=this._needsClustering.slice(),u=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(c),o=c.length-1;0<=o;o--){for(i=!0,l=u.length-1;0<=l;l--)if(u[l].layer===c[o]){i=!1;break}i&&e.call(t,c[o])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer(function(i){L.stamp(i)===e&&(t=i)}),t},hasLayer:function(e){if(!e)return!1;var t,i=this._needsClustering;for(t=i.length-1;0<=t;t--)if(i[t]===e)return!0;for(t=(i=this._needsRemoving).length-1;0<=t;t--)if(i[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var i=this._map;typeof t!="function"&&(t=function(){});var o=function(){!i.hasLayer(e)&&!i.hasLayer(e.__parent)||this._inZoomAnimation||(this._map.off("moveend",o,this),this.off("animationend",o,this),i.hasLayer(e)?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",o,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",o,this),this.on("animationend",o,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,i,o;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,i=this._needsRemoving.length;t<i;t++)(o=this._needsRemoving[t]).newlatlng=o.layer._latlng,o.layer._latlng=o.latlng;for(t=0,i=this._needsRemoving.length;t<i;t++)o=this._needsRemoving[t],this._removeLayer(o.layer,!0),o.layer._latlng=o.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var i=e.length-1;0<=i;i--)if(e[i]===t)return e.splice(i,1),!0},_removeFromGridUnclustered:function(e,t){for(var i=this._map,o=this._gridUnclustered,l=Math.floor(this._map.getMinZoom());l<=t&&o[t].removeObject(e,i.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,i){e._latlng=t,this.removeLayer(e),e._latlng=i,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,i){var o=this._gridClusters,l=this._gridUnclustered,c=this._featureGroup,u=this._map,d=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var p,f=e.__parent,_=f._markers;for(this._arraySplice(_,e);f&&(f._childCount--,f._boundsNeedUpdate=!0,!(f._zoom<d));)t&&f._childCount<=1?(p=f._markers[0]===e?f._markers[1]:f._markers[0],o[f._zoom].removeObject(f,u.project(f._cLatLng,f._zoom)),l[f._zoom].addObject(p,u.project(p.getLatLng(),f._zoom)),this._arraySplice(f.__parent._childClusters,f),f.__parent._markers.push(p),p.__parent=f.__parent,f._icon&&(c.removeLayer(f),i||c.addLayer(p))):f._iconNeedsUpdate=!0,f=f.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,i){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,i)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),i=" marker-cluster-";return i+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom;(t||o||l)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,i=t;if(e.type!=="clusterkeypress"||!e.originalEvent||e.originalEvent.keyCode===13){for(;i._childClusters.length===1;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),this.options.spiderfyOnEveryZoom&&t.spiderfy(),e.originalEvent&&e.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),2<e.layer.getChildCount()&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom,l=this._map;(e||i||o)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),l.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,o=i;typeof i!="function"&&(o=function(){return i}),this.options.disableClusteringAtZoom!==null&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var l=e;t<=l;l--)this._gridClusters[l]=new L.DistanceGrid(o(l)),this._gridUnclustered[l]=new L.DistanceGrid(o(l));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var i,o,l=this._gridClusters,c=this._gridUnclustered,u=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);u<=t;t--){i=this._map.project(e.getLatLng(),t);var d=l[t].getNearObject(i);if(d)return d._addChild(e),void(e.__parent=d);if(d=c[t].getNearObject(i)){var p=d.__parent;p&&this._removeLayer(d,!1);var f=new this._markerCluster(this,t,d,e);l[t].addObject(f,this._map.project(f._cLatLng,t)),d.__parent=f;var _=e.__parent=f;for(o=t-1;o>p._zoom;o--)_=new this._markerCluster(this,o,_),l[o].addObject(_,this._map.project(d.getLatLng(),o));return p._addChild(_),void this._removeFromGridUnclustered(d,t)}c[t].addObject(e,i)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()})},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return t!==void 0&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(t._childCount===2){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var i,o=e.getLayers(),l=0;for(t=t||[];l<o.length;l++)(i=o[l])instanceof L.LayerGroup?this._extractNonGroupLayers(i,t):t.push(i);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var i,o=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(o,e,c,function(u){var d,p=u._latlng,f=u._markers;for(o.contains(p)||(p=null),u._isSingleParent()&&e+1===t?(l.removeLayer(u),u._recursivelyAddChildrenToMap(null,t,o)):(u.clusterHide(),u._recursivelyAddChildrenToMap(p,t,o)),i=f.length-1;0<=i;i--)d=f[i],o.contains(d._latlng)||l.removeLayer(d)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,t),l.eachLayer(function(u){u instanceof L.MarkerCluster||!u._icon||u.clusterShow()}),this._topClusterLevel._recursively(o,e,t,function(u){u._recursivelyRestoreChildPositions(t)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,e,c,function(u){l.removeLayer(u),u.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var i=this,o=this._featureGroup;o.addLayer(e),t!==e&&(2<t._childCount?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue(function(){o.removeLayer(e),e.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,i){var o=this._getExpandedVisibleBounds(),l=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(o,l,t+1,i);var c=this;this._forceLayout(),e._recursivelyBecomeVisible(o,i),this._enqueue(function(){if(e._childCount===1){var u=e._markers[0];this._ignoreMove=!0,u.setLatLng(u.getLatLng()),this._ignoreMove=!1,u.clusterShow&&u.clusterShow()}else e._recursively(o,i,l,function(d){d._recursivelyRemoveChildrenFromMap(o,l,t+1)});c._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var h=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,i,o){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),o&&this._addChild(o)},getAllChildMarkers:function(e,t){e=e||[];for(var i=this._childClusters.length-1;0<=i;i--)this._childClusters[i].getAllChildMarkers(e,t);for(var o=this._markers.length-1;0<=o;o--)t&&this._markers[o].__dragStart||e.push(this._markers[o]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,i=this._childClusters.slice(),o=this._group._map,l=o.getBoundsZoom(this._bounds),c=this._zoom+1,u=o.getZoom();0<i.length&&c<l;){c++;var d=[];for(t=0;t<i.length;t++)d=d.concat(i[t]._childClusters);i=d}c<l?this._group._map.setView(this._latlng,c):l<=u?this._group._map.setView(this._latlng,u+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,i,o,l=this._markers,c=this._childClusters,u=0,d=0,p=this._childCount;if(p!==0){for(this._resetBounds(),e=0;e<l.length;e++)i=l[e]._latlng,this._bounds.extend(i),u+=i.lat,d+=i.lng;for(e=0;e<c.length;e++)(t=c[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),i=t._wLatLng,o=t._childCount,u+=i.lat*o,d+=i.lng*o;this._latlng=this._wLatLng=new L.LatLng(u/p,d/p),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,i){this._recursively(e,this._group._map.getMinZoom(),i-1,function(o){var l,c,u=o._markers;for(l=u.length-1;0<=l;l--)(c=u[l])._icon&&(c._setPos(t),c.clusterHide())},function(o){var l,c,u=o._childClusters;for(l=u.length-1;0<=l;l--)(c=u[l])._icon&&(c._setPos(t),c.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,i,o){this._recursively(e,o,t,function(l){l._recursivelyAnimateChildrenIn(e,l._group._map.latLngToLayerPoint(l.getLatLng()).round(),i),l._isSingleParent()&&i-1===o?(l.clusterShow(),l._recursivelyRemoveChildrenFromMap(e,t,i)):l.clusterHide(),l._addToMap()})},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,function(i){i.clusterShow()})},_recursivelyAddChildrenToMap:function(e,t,i){this._recursively(i,this._group._map.getMinZoom()-1,t,function(o){if(t!==o._zoom)for(var l=o._markers.length-1;0<=l;l--){var c=o._markers[l];i.contains(c._latlng)&&(e&&(c._backupLatlng=c.getLatLng(),c.setLatLng(e),c.clusterHide&&c.clusterHide()),o._group._featureGroup.addLayer(c))}},function(o){o._addToMap(e)})},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;0<=t;t--){var i=this._markers[t];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(e-1===this._zoom)for(var o=this._childClusters.length-1;0<=o;o--)this._childClusters[o]._restorePosition();else for(var l=this._childClusters.length-1;0<=l;l--)this._childClusters[l]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,i,o){var l,c;this._recursively(e,t-1,i-1,function(u){for(c=u._markers.length-1;0<=c;c--)l=u._markers[c],o&&o.contains(l._latlng)||(u._group._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())},function(u){for(c=u._childClusters.length-1;0<=c;c--)l=u._childClusters[c],o&&o.contains(l._latlng)||(u._group._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())})},_recursively:function(e,t,i,o,l){var c,u,d=this._childClusters,p=this._zoom;if(t<=p&&(o&&o(this),l&&p===i&&l(this)),p<t||p<i)for(c=d.length-1;0<=c;c--)(u=d[c])._boundsNeedUpdate&&u._recalculateBounds(),e.intersects(u._bounds)&&u._recursively(e,t,i,o,l)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var i=this._getCoord(t.x),o=this._getCoord(t.y),l=this._grid,c=l[o]=l[o]||{},u=c[i]=c[i]||[],d=L.Util.stamp(e);this._objectPoint[d]=t,u.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var i,o,l=this._getCoord(t.x),c=this._getCoord(t.y),u=this._grid,d=u[c]=u[c]||{},p=d[l]=d[l]||[];for(delete this._objectPoint[L.Util.stamp(e)],i=0,o=p.length;i<o;i++)if(p[i]===e)return p.splice(i,1),o===1&&delete d[l],!0},eachObject:function(e,t){var i,o,l,c,u,d,p=this._grid;for(i in p)for(o in u=p[i])for(l=0,c=(d=u[o]).length;l<c;l++)e.call(t,d[l])&&(l--,c--)},getNearObject:function(e){var t,i,o,l,c,u,d,p,f=this._getCoord(e.x),_=this._getCoord(e.y),m=this._objectPoint,C=this._sqCellSize,g=null;for(t=_-1;t<=_+1;t++)if(l=this._grid[t]){for(i=f-1;i<=f+1;i++)if(c=l[i])for(o=0,u=c.length;o<u;o++)d=c[o],((p=this._sqDist(m[L.Util.stamp(d)],e))<C||p<=C&&g===null)&&(C=p,g=d)}return g},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var i=t.x-e.x,o=t.y-e.y;return i*i+o*o}},L.QuickHull={getDistant:function(e,t){var i=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+i*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var i,o,l,c=0,u=null,d=[];for(i=t.length-1;0<=i;i--)o=t[i],0<(l=this.getDistant(o,e))&&(d.push(o),c<l&&(c=l,u=o));return{maxPoint:u,newPoints:d}},buildConvexHull:function(e,t){var i=[],o=this.findMostDistantPointFromBaseLine(e,t);return o.maxPoint?i=(i=i.concat(this.buildConvexHull([e[0],o.maxPoint],o.newPoints))).concat(this.buildConvexHull([o.maxPoint,e[1]],o.newPoints)):[e[0]]},getConvexHull:function(e){var t,i=!1,o=!1,l=!1,c=!1,u=null,d=null,p=null,f=null,_=null,m=null;for(t=e.length-1;0<=t;t--){var C=e[t];(i===!1||C.lat>i)&&(i=(u=C).lat),(o===!1||C.lat<o)&&(o=(d=C).lat),(l===!1||C.lng>l)&&(l=(p=C).lng),(c===!1||C.lng<c)&&(c=(f=C).lng)}return _=o!==i?(m=d,u):(m=f,p),[].concat(this.buildConvexHull([m,_],e),this.buildConvexHull([_,m],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,i=this.getAllChildMarkers(),o=[];for(t=i.length-1;0<=t;t--)e=i[t].getLatLng(),o.push(e);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),e=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(t.length,i):t.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(t.length,i):(i.y+=10,this._generatePointsCircle(t.length,i)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var i,o,l=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,c=this._2PI/e,u=[];for(l=Math.max(l,35),u.length=e,i=0;i<e;i++)o=this._circleStartAngle+i*c,u[i]=new L.Point(t.x+l*Math.cos(o),t.y+l*Math.sin(o))._round();return u},_generatePointsSpiral:function(e,t){var i,o=this._group.options.spiderfyDistanceMultiplier,l=o*this._spiralLengthStart,c=o*this._spiralFootSeparation,u=o*this._spiralLengthFactor*this._2PI,d=0,p=[];for(i=p.length=e;0<=i;i--)i<e&&(p[i]=new L.Point(t.x+l*Math.cos(d),t.y+l*Math.sin(d))._round()),l+=u/(d+=c/l+5e-4*i);return p},_noanimationUnspiderfy:function(){var e,t,i=this._group,o=i._map,l=i._featureGroup,c=this.getAllChildMarkers(null,!0);for(i._ignoreMove=!0,this.setOpacity(1),t=c.length-1;0<=t;t--)e=c[t],l.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(o.removeLayer(e._spiderLeg),delete e._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:c}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var i,o,l,c,u=this._group,d=u._map,p=u._featureGroup,f=this._group.options.spiderLegPolylineOptions;for(u._ignoreMove=!0,i=0;i<e.length;i++)c=d.layerPointToLatLng(t[i]),o=e[i],l=new L.Polyline([this._latlng,c],f),d.addLayer(l),o._spiderLeg=l,o._preSpiderfyLatlng=o._latlng,o.setLatLng(c),o.setZIndexOffset&&o.setZIndexOffset(1e6),p.addLayer(o);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var i,o,l,c,u,d,p=this,f=this._group,_=f._map,m=f._featureGroup,C=this._latlng,g=_.latLngToLayerPoint(C),y=L.Path.SVG,w=L.extend({},this._group.options.spiderLegPolylineOptions),M=w.opacity;for(M===void 0&&(M=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(w.opacity=0,w.className=(w.className||"")+" leaflet-cluster-spider-leg"):w.opacity=M,f._ignoreMove=!0,i=0;i<e.length;i++)o=e[i],d=_.layerPointToLatLng(t[i]),l=new L.Polyline([C,d],w),_.addLayer(l),o._spiderLeg=l,y&&(u=(c=l._path).getTotalLength()+.1,c.style.strokeDasharray=u,c.style.strokeDashoffset=u),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),m.addLayer(o),o._setPos&&o._setPos(g);for(f._forceLayout(),f._animationStart(),i=e.length-1;0<=i;i--)d=_.layerPointToLatLng(t[i]),(o=e[i])._preSpiderfyLatlng=o._latlng,o.setLatLng(d),o.clusterShow&&o.clusterShow(),y&&((c=(l=o._spiderLeg)._path).style.strokeDashoffset=0,l.setStyle({opacity:M}));this.setOpacity(.3),f._ignoreMove=!1,setTimeout(function(){f._animationEnd(),f.fire("spiderfied",{cluster:p,markers:e})},200)},_animationUnspiderfy:function(e){var t,i,o,l,c,u,d=this,p=this._group,f=p._map,_=p._featureGroup,m=e?f._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):f.latLngToLayerPoint(this._latlng),C=this.getAllChildMarkers(null,!0),g=L.Path.SVG;for(p._ignoreMove=!0,p._animationStart(),this.setOpacity(1),i=C.length-1;0<=i;i--)(t=C[i])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,u=!0,t._setPos&&(t._setPos(m),u=!1),t.clusterHide&&(t.clusterHide(),u=!1),u&&_.removeLayer(t),g&&(c=(l=(o=t._spiderLeg)._path).getTotalLength()+.1,l.style.strokeDashoffset=c,o.setStyle({opacity:0})));p._ignoreMove=!1,setTimeout(function(){var y=0;for(i=C.length-1;0<=i;i--)(t=C[i])._spiderLeg&&y++;for(i=C.length-1;0<=i;i--)(t=C[i])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),1<y&&_.removeLayer(t),f.removeLayer(t._spiderLeg),delete t._spiderLeg);p._animationEnd(),p.fire("unspiderfied",{cluster:d,markers:C})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,i;for(t in e)for(i=e[t].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,i;for(t in e)i=e[t],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(e,t){var i=this.options.icon;return L.setOptions(i,e),this.setIcon(i),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),s.MarkerClusterGroup=a,s.MarkerCluster=h,Object.defineProperty(s,"__esModule",{value:!0})})})(Jt,Jt.exports);const ln=""+new URL("../assets/map-territories.nhGiRSZo.png",import.meta.url).href,cn=""+new URL("../assets/map-streets.6DhexBtl.png",import.meta.url).href,un=""+new URL("../assets/map-satellite.xCirAAcX.png",import.meta.url).href,Ee="src/lib/UI/Peephole.svelte";function nt(r){let n,s,a,h,e,t,i,o,l,c,u,d,p,f;const _={c:function(){n=I("div"),s=I("button"),a=I("img"),e=D(),t=I("button"),i=I("img"),l=D(),c=I("button"),u=I("img"),this.h()},l:function(C){n=E(C,"DIV",{class:!0});var g=B(n);s=E(g,"BUTTON",{class:!0});var y=B(s);a=E(y,"IMG",{src:!0,alt:!0,class:!0}),y.forEach(k),e=N(g),t=E(g,"BUTTON",{class:!0});var w=B(t);i=E(w,"IMG",{src:!0,alt:!0,class:!0}),w.forEach(k),l=N(g),c=E(g,"BUTTON",{class:!0});var M=B(c);u=E(M,"IMG",{src:!0,alt:!0,class:!0}),M.forEach(k),g.forEach(k),this.h()},h:function(){Y(a.src,h=cn)||v(a,"src",h),v(a,"alt","Map Style: Streets"),v(a,"class","s-SloUweJClGtl"),P(a,Ee,10,6,365),v(s,"class","s-SloUweJClGtl"),P(s,Ee,9,4,313),Y(i.src,o=un)||v(i,"src",o),v(i,"alt","Map Style: Satelitte"),v(i,"class","s-SloUweJClGtl"),P(i,Ee,13,6,487),v(t,"class","s-SloUweJClGtl"),P(t,Ee,12,4,435),Y(u.src,d=ln)||v(u,"src",d),v(u,"alt","Map Style: Territories"),v(u,"class","s-SloUweJClGtl"),P(u,Ee,16,6,613),v(c,"class","s-SloUweJClGtl"),P(c,Ee,15,4,561),v(n,"class","peephole-container s-SloUweJClGtl"),P(n,Ee,8,2,276)},m:function(C,g){z(C,n,g),b(n,s),b(s,a),b(n,e),b(n,t),b(t,i),b(n,l),b(n,c),b(c,u),p||(f=[K(s,"click",r[1],!1,!1,!1,!1),K(t,"click",r[2],!1,!1,!1,!1),K(c,"click",r[3],!1,!1,!1,!1)],p=!0)},p:ye,i:ye,o:ye,d:function(C){C&&k(n),p=!1,St(f)}};return O("SvelteRegisterBlock",{block:_,id:nt.name,type:"component",source:"",ctx:r}),_}function qn(r,n,s){let{$$slots:a={},$$scope:h}=n;me("Peephole",a,[]);let{onMapStyleSelect:e}=n;r.$$.on_mount.push(function(){e===void 0&&!("onMapStyleSelect"in n||r.$$.bound[r.$$.props.onMapStyleSelect])&&console.warn("<Peephole> was created without expected prop 'onMapStyleSelect'")});const t=["onMapStyleSelect"];Object.keys(n).forEach(c=>{!~t.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Peephole> was created with unknown prop '${c}'`)});const i=()=>e(1),o=()=>e(0),l=()=>e(2);return r.$$set=c=>{"onMapStyleSelect"in c&&s(0,e=c.onMapStyleSelect)},r.$capture_state=()=>({onMapStyleSelect:e,territoriesImage:ln,streetsImage:cn,satelitteImage:un}),r.$inject_state=c=>{"onMapStyleSelect"in c&&s(0,e=c.onMapStyleSelect)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[e,i,o,l]}class hn extends de{constructor(n){super(n),_e(this,n,qn,nt,fe,{onMapStyleSelect:0}),O("SvelteRegisterComponent",{component:this,tagName:"Peephole",options:n,id:nt.name})}get onMapStyleSelect(){throw new Error("<Peephole>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onMapStyleSelect(n){throw new Error("<Peephole>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const fn=""+new URL("../assets/plus.Njxp47f3.svg",import.meta.url).href,dn=""+new URL("../assets/minus.3BZMq0WM.svg",import.meta.url).href,Xn=""+new URL("../assets/layers.ixVVx571.svg",import.meta.url).href,_n=""+new URL("../assets/countermonument.cvEDImS4.svg",import.meta.url).href,mn=""+new URL("../assets/map-basic.JRLSm0r-.png",import.meta.url).href,{console:Kt}=Ne,X="src/lib/Map/Toolbar.svelte";function pn(r){let n;const s={c:function(){n=qe("path"),this.h()},l:function(h){n=Xe(h,"path",{d:!0}),B(n).forEach(k),this.h()},h:function(){v(n,"d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"),P(n,X,89,8,2357)},m:function(h,e){z(h,n,e)},d:function(h){h&&k(n)}};return O("SvelteRegisterBlock",{block:s,id:pn.name,type:"else",source:"(89:6) {:else}",ctx:r}),s}function gn(r){let n,s;const a={c:function(){n=qe("path"),s=qe("path"),this.h()},l:function(e){n=Xe(e,"path",{d:!0}),B(n).forEach(k),s=Xe(e,"path",{d:!0}),B(s).forEach(k),this.h()},h:function(){v(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),P(n,X,85,8,2128),v(s,"d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"),P(s,X,85,58,2178)},m:function(e,t){z(e,n,t),z(e,s,t)},d:function(e){e&&(k(n),k(s))}};return O("SvelteRegisterBlock",{block:a,id:gn.name,type:"if",source:"(85:6) {#if eye}",ctx:r}),a}function it(r){let n,s;n=new hn({props:{onMapStyleSelect:r[7]},$$inline:!0});const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:ye,i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:it.name,type:"if",source:"(107:2) {#if showPeephole}",ctx:r}),a}function ot(r){let n,s,a,h,e,t,i,o,l,c,u,d,p,f,_,m,C="ðŸ—ºï¸",g,y,w,M,j,Q,S,F,be,U,V,ne,Z,G,A,oe;function Ce(x,W){return x[0]?gn:pn}let pe=Ce(r),q=pe(r),H=r[1]&&it(r);const Me={c:function(){n=I("div"),s=I("button"),a=I("img"),e=D(),t=I("div"),i=I("button"),o=I("img"),c=D(),u=I("button"),d=I("img"),f=D(),_=I("div"),m=I("button"),m.textContent=C,g=D(),y=I("button"),w=qe("svg"),q.c(),j=D(),Q=I("button"),S=I("img"),be=D(),U=I("button"),V=I("img"),Z=D(),H&&H.c(),this.h()},l:function(W){n=E(W,"DIV",{class:!0});var J=B(n);s=E(J,"BUTTON",{class:!0});var Gt=B(s);a=E(Gt,"IMG",{src:!0,alt:!0}),Gt.forEach(k),e=N(J),t=E(J,"DIV",{class:!0});var Ve=B(t);i=E(Ve,"BUTTON",{class:!0});var Bt=B(i);o=E(Bt,"IMG",{src:!0,alt:!0}),Bt.forEach(k),c=N(Ve),u=E(Ve,"BUTTON",{class:!0});var Ot=B(u);d=E(Ot,"IMG",{src:!0,alt:!0}),Ot.forEach(k),Ve.forEach(k),f=N(J),_=E(J,"DIV",{class:!0});var Ge=B(_);m=E(Ge,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(m)!=="svelte-1tkyn7r"&&(m.textContent=C),g=N(Ge),y=E(Ge,"BUTTON",{type:!0,title:!0,class:!0});var jt=B(y);w=Xe(jt,"svg",{fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,viewBox:!0,stroke:!0});var Rt=B(w);q.l(Rt),Rt.forEach(k),jt.forEach(k),j=N(Ge),Q=E(Ge,"BUTTON",{class:!0});var Tt=B(Q);S=E(Tt,"IMG",{src:!0,alt:!0}),Tt.forEach(k),Ge.forEach(k),be=N(J),U=E(J,"BUTTON",{id:!0,title:!0,class:!0});var zt=B(U);V=E(zt,"IMG",{src:!0,alt:!0,class:!0}),zt.forEach(k),Z=N(J),H&&H.l(J),J.forEach(k),this.h()},h:function(){Y(a.src,h=_n)||v(a,"src",h),v(a,"alt","Submit"),P(a,X,63,4,1485),v(s,"class","rounded s-X67GN01QUXjj"),P(s,X,62,2,1456),Y(o.src,l=fn)||v(o,"src",l),v(o,"alt","Zoom in"),P(o,X,67,6,1616),v(i,"class","s-X67GN01QUXjj"),P(i,X,66,4,1583),Y(d.src,p=dn)||v(d,"src",p),v(d,"alt","Zoom out"),P(d,X,70,6,1709),v(u,"class","s-X67GN01QUXjj"),P(u,X,69,4,1675),v(t,"class","zoom-container s-X67GN01QUXjj"),P(t,X,65,2,1550),v(m,"class","s-X67GN01QUXjj"),P(m,X,74,2,1804),v(w,"fill","none"),v(w,"stroke-linecap","round"),v(w,"stroke-linejoin","round"),v(w,"stroke-width",M=r[0]?2:1),v(w,"viewBox","0 0 24 24"),v(w,"stroke","currentColor"),P(w,X,76,4,1929),v(y,"type","button"),v(y,"title","Show Markers"),v(y,"class","s-X67GN01QUXjj"),P(y,X,75,2,1861),Y(S.src,F=ke)||v(S,"src",F),v(S,"alt","Toggle"),P(S,X,97,4,2771),v(Q,"class","s-X67GN01QUXjj"),P(Q,X,96,2,2729),v(_,"class","devButtons s-X67GN01QUXjj"),P(_,X,73,2,1777),Y(V.src,ne=mn)||v(V,"src",ne),v(V,"alt","Select Map Style"),v(V,"class","s-X67GN01QUXjj"),P(V,X,104,4,2947),v(U,"id","peephole"),v(U,"title","Select Map Style"),v(U,"class","s-X67GN01QUXjj"),P(U,X,100,2,2836),v(n,"class","flex flex-col toolbar-container s-X67GN01QUXjj"),P(n,X,61,0,1408)},m:function(W,J){z(W,n,J),b(n,s),b(s,a),b(n,e),b(n,t),b(t,i),b(i,o),b(t,c),b(t,u),b(u,d),b(n,f),b(n,_),b(_,m),b(_,g),b(_,y),b(y,w),q.m(w,null),b(_,j),b(_,Q),b(Q,S),b(n,be),b(n,U),b(U,V),b(n,Z),H&&H.m(n,null),G=!0,A||(oe=[K(i,"click",r[2],!1,!1,!1,!1),K(u,"click",r[3],!1,!1,!1,!1),K(m,"click",r[6],!1,!1,!1,!1),K(y,"click",r[4],!1,!1,!1,!1),K(Q,"click",r[5],!1,!1,!1,!1),K(U,"click",r[9],!1,!1,!1,!1)],A=!0)},p:function(W,[J]){pe!==(pe=Ce(W))&&(q.d(1),q=pe(W),q&&(q.c(),q.m(w,null))),(!G||J&1&&M!==(M=W[0]?2:1))&&v(w,"stroke-width",M),W[1]?H?(H.p(W,J),J&2&&R(H,1)):(H=it(W),H.c(),R(H,1),H.m(n,null)):H&&(re(),T(H,1,1,()=>{H=null}),ae())},i:function(W){G||(R(H),G=!0)},o:function(W){T(H),G=!1},d:function(W){W&&k(n),q.d(),H&&H.d(),A=!1,St(oe)}};return O("SvelteRegisterBlock",{block:Me,id:ot.name,type:"component",source:"",ctx:r}),Me}function Qn(r,n,s){let{$$slots:a={},$$scope:h}=n;me("Toolbar",a,[]);let{mapInstance:e}=n,t=!0,i=!0,o=!1;function l(){console.log("zooming in"),e?e.zoomIn():console.error("Map instance is not available.")}function c(){e.zoomOut()}function u(){s(0,t=!t),ze.update(C=>!C)}function d(){Zt(),i=!i}function p(){Ht()}function f(C){Vt(C),s(1,o=!1)}r.$$.on_mount.push(function(){e===void 0&&!("mapInstance"in n||r.$$.bound[r.$$.props.mapInstance])&&Kt.warn("<Toolbar> was created without expected prop 'mapInstance'")});const _=["mapInstance"];Object.keys(n).forEach(C=>{!~_.indexOf(C)&&C.slice(0,2)!=="$$"&&C!=="slot"&&Kt.warn(`<Toolbar> was created with unknown prop '${C}'`)});const m=()=>s(1,o=!o);return r.$$set=C=>{"mapInstance"in C&&s(8,e=C.mapInstance)},r.$capture_state=()=>({isMarkersVisible:ze,setMapStyleIndex:Vt,toggleDarkMode:Zt,toggleTerritoriesVisibility:Ht,Peephole:hn,mapInstance:e,plusIconPath:fn,minusIconPath:dn,layersIconPath:Xn,counterMonumentIconPath:_n,monumentIconPath:ke,basicMapImage:mn,eye:t,darkIcon:i,showPeephole:o,zoomIn:l,zoomOut:c,clickEye:u,toggleMarkerColor:d,toggleTerritoriesLayer:p,handleMapStyleSelect:f}),r.$inject_state=C=>{"mapInstance"in C&&s(8,e=C.mapInstance),"eye"in C&&s(0,t=C.eye),"darkIcon"in C&&(i=C.darkIcon),"showPeephole"in C&&s(1,o=C.showPeephole)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[t,o,l,c,u,d,p,f,e,m]}class Yt extends de{constructor(n){super(n),_e(this,n,Qn,ot,fe,{mapInstance:8}),O("SvelteRegisterComponent",{component:this,tagName:"Toolbar",options:n,id:ot.name})}get mapInstance(){throw new Error("<Toolbar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mapInstance(n){throw new Error("<Toolbar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Error:Be,console:Wn}=Ne,Jn="src/lib/Map/Leaflet.svelte";function st(r){let n;const s=r[9].default,a=Pt(s,r,r[8],null),h={c:function(){a&&a.c()},l:function(t){a&&a.l(t)},m:function(t,i){a&&a.m(t,i),n=!0},p:function(t,i){a&&a.p&&(!n||i&256)&&It(a,s,t,t[8],n?Ut(s,t[8],i,null):Et(t[8]),null)},i:function(t){n||(R(a,t),n=!0)},o:function(t){T(a,t),n=!1},d:function(t){a&&a.d(t)}};return O("SvelteRegisterBlock",{block:h,id:st.name,type:"if",source:"(188:2) {#if map}",ctx:r}),h}function rt(r){let n,s,a=r[0]&&st(r);const h={c:function(){n=I("div"),a&&a.c(),this.h()},l:function(t){n=E(t,"DIV",{class:!0});var i=B(n);a&&a.l(i),i.forEach(k),this.h()},h:function(){v(n,"class","w-full h-full"),P(n,Jn,186,0,5247)},m:function(t,i){z(t,n,i),a&&a.m(n,null),r[10](n),s=!0},p:function(t,[i]){t[0]?a?(a.p(t,i),i&1&&R(a,1)):(a=st(t),a.c(),R(a,1),a.m(n,null)):a&&(re(),T(a,1,1,()=>{a=null}),ae())},i:function(t){s||(R(a),s=!0)},o:function(t){T(a),s=!1},d:function(t){t&&k(n),a&&a.d(),r[10](null)}};return O("SvelteRegisterBlock",{block:h,id:rt.name,type:"component",source:"",ctx:r}),h}function Kn(r,n,s){let a,h;Se(xe,"currentMapStyleId"),Pe(r,xe,S=>s(6,a=S)),Se($e,"territoriesVisible"),Pe(r,$e,S=>s(7,h=S));let{$$slots:e={},$$scope:t}=n;me("Leaflet",e,["default"]);let{bounds:i=void 0}=n,{view:o=void 0}=n,{zoom:l=void 0}=n;const c=Le();let u,d,p,f=null,_=null,m=null;async function C(S){if(!m)try{m=await(await fetch("https://native-land.ca/wp-json/nativeland/v1/api/index.php?maps=territories")).json(),f=await Ft(S,m),_=await qt(S,m)}catch(F){console.error("Error fetching territories data:",F)}}const g=$.Control.extend({onAdd(S){const F=$.DomUtil.create("div","map-toolbar-container");return new Yt({target:F,props:{mapInstance:S}}),F}});je(()=>{if(!i&&(!o||!l))throw new Error("Must set either bounds, or view and zoom.");s(0,u=$.map(d,{maxZoom:18,zoomControl:!1}));const S=$.markerClusterGroup({disableClusteringAtZoom:10,spiderfyOnMaxZoom:!1});u.addLayer(S),Ae.set(S),i?(u.fitBounds(i),Oe.set(i)):o&&l&&u.setView(o,l),u.whenReady(()=>{if(!i){const F=u.getBounds();Oe.set(F)}C(u),s(5,p=new et({Language:"fr",style:$.MaptilerStyle.SATELLITE,apiKey:"mPMxMiVPDDH0atXxMfF6"}).addTo(u)),new g({position:"topright"}).addTo(u)}),u.on("zoom",F=>c("zoom",F)).on("moveend",()=>{const F=u.getBounds();Oe.set(F)}).on("popupopen",async F=>{await At(),F.popup.update()})});function y(){u&&(!f||!_?C(u):(u.addLayer(f),u.addLayer(_)))}function w(){u&&(f&&u.removeLayer(f),_&&u.removeLayer(_),console.log("Territories removed"))}Re(()=>{u==null||u.remove(),s(0,u=void 0),w()}),Qe("map",{getMap:()=>u});function M(S){u&&p&&(u.removeLayer(p),s(5,p=new et({style:S,apiKey:"mPMxMiVPDDH0atXxMfF6"}).addTo(u)))}const j=["bounds","view","zoom"];Object.keys(n).forEach(S=>{!~j.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&Wn.warn(`<Leaflet> was created with unknown prop '${S}'`)});function Q(S){nn[S?"unshift":"push"](()=>{d=S,s(1,d)})}return r.$$set=S=>{"bounds"in S&&s(2,i=S.bounds),"view"in S&&s(3,o=S.view),"zoom"in S&&s(4,l=S.zoom),"$$scope"in S&&s(8,t=S.$$scope)},r.$capture_state=()=>({onMount:je,onDestroy:Re,setContext:Qe,createEventDispatcher:Le,tick:At,L:$,addTerritoriesLayer:Ft,addTerritoriesLabels:qt,MaptilerLayer:et,MaptilerStyle:Zn,Toolbar:Yt,currentMapStyleId:xe,mapBoundsStore:Oe,territoriesVisible:$e,clusterGroupStore:Ae,bounds:i,view:o,zoom:l,dispatch:c,map:u,mapElement:d,mtLayer:p,territoriesLayer:f,labelsLayer:_,territoriesData:m,initializeTerritories:C,ToolbarControl:g,addTerritories:y,removeTerritories:w,updateMapStyle:M,$currentMapStyleId:a,$territoriesVisible:h}),r.$inject_state=S=>{"bounds"in S&&s(2,i=S.bounds),"view"in S&&s(3,o=S.view),"zoom"in S&&s(4,l=S.zoom),"map"in S&&s(0,u=S.map),"mapElement"in S&&s(1,d=S.mapElement),"mtLayer"in S&&s(5,p=S.mtLayer),"territoriesLayer"in S&&(f=S.territoriesLayer),"labelsLayer"in S&&(_=S.labelsLayer),"territoriesData"in S&&(m=S.territoriesData)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),r.$$.update=()=>{r.$$.dirty&128&&(h?y():w()),r.$$.dirty&29&&u&&(i?u.fitBounds(i):o&&l&&u.setView(o,l)),r.$$.dirty&97&&a&&(console.log("MAP TILE NAME",a.name),u&&p&&M(a))},[u,d,i,o,l,p,a,h,t,e,Q]}class vn extends de{constructor(n){super(n),_e(this,n,Kn,rt,fe,{bounds:2,view:3,zoom:4}),O("SvelteRegisterComponent",{component:this,tagName:"Leaflet",options:n,id:rt.name})}get bounds(){throw new Be("<Leaflet>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set bounds(n){throw new Be("<Leaflet>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get view(){throw new Be("<Leaflet>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set view(n){throw new Be("<Leaflet>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get zoom(){throw new Be("<Leaflet>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set zoom(n){throw new Be("<Leaflet>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function at(r){let n;const s=r[7].default,a=Pt(s,r,r[6],null),h={c:function(){a&&a.c()},l:function(t){a&&a.l(t)},m:function(t,i){a&&a.m(t,i),n=!0},p:function(t,i){a&&a.p&&(!n||i&64)&&It(a,s,t,t[6],n?Ut(s,t[6],i,null):Et(t[6]),null)},i:function(t){n||(R(a,t),n=!0)},o:function(t){T(a,t),n=!1},d:function(t){a&&a.d(t)}};return O("SvelteRegisterBlock",{block:h,id:at.name,type:"if",source:"(69:0) {#if marker}",ctx:r}),h}function lt(r){let n,s,a=r[0]&&at(r);const h={c:function(){a&&a.c(),n=ve()},l:function(t){a&&a.l(t),n=ve()},m:function(t,i){a&&a.m(t,i),z(t,n,i),s=!0},p:function(t,[i]){t[0]?a?(a.p(t,i),i&1&&R(a,1)):(a=at(t),a.c(),R(a,1),a.m(n.parentNode,n)):a&&(re(),T(a,1,1,()=>{a=null}),ae())},i:function(t){s||(R(a),s=!0)},o:function(t){T(a),s=!1},d:function(t){t&&k(n),a&&a.d(t)}};return O("SvelteRegisterBlock",{block:h,id:lt.name,type:"component",source:"",ctx:r}),h}function Yn(r,n,s){let a,h;Se(Ae,"clusterGroupStore"),Pe(r,Ae,f=>s(4,a=f)),Se(ze,"isMarkersVisible"),Pe(r,ze,f=>s(5,h=f));let{$$slots:e={},$$scope:t}=n;me("Marker",e,["default"]);let{width:i}=n,{height:o}=n,{latLng:l}=n,c,u=We("map").getMap();Qe("layer",{getLayer:()=>c});function d(f){let _=f==="dark"?`<div style="width: ${i}px; height: ${o}px; filter: invert(100%);">
          <img src="${ke}" alt="Monument Marker" style="width: 100%; height: 100%;" />
        </div>`:`<div style="width: ${i}px; height: ${o}px;">
          <img src="${ke}" alt="Monument Marker" style="width: 100%; height: 100%;" />
        </div>`,m=$.divIcon({html:_,className:"map-marker",iconSize:$.point(i,o)});c?(a.removeLayer(c),c.setIcon(m)):s(0,c=$.marker(l,{icon:m})),a.addLayer(c)}je(()=>{u&&a&&De.subscribe(f=>{d(f)})}),Re(()=>{c&&a&&(a.removeLayer(c),c.remove(),s(0,c=void 0))}),r.$$.on_mount.push(function(){i===void 0&&!("width"in n||r.$$.bound[r.$$.props.width])&&console.warn("<Marker> was created without expected prop 'width'"),o===void 0&&!("height"in n||r.$$.bound[r.$$.props.height])&&console.warn("<Marker> was created without expected prop 'height'"),l===void 0&&!("latLng"in n||r.$$.bound[r.$$.props.latLng])&&console.warn("<Marker> was created without expected prop 'latLng'")});const p=["width","height","latLng"];return Object.keys(n).forEach(f=>{!~p.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Marker> was created with unknown prop '${f}'`)}),r.$$set=f=>{"width"in f&&s(1,i=f.width),"height"in f&&s(2,o=f.height),"latLng"in f&&s(3,l=f.latLng),"$$scope"in f&&s(6,t=f.$$scope)},r.$capture_state=()=>({onMount:je,onDestroy:Re,getContext:We,setContext:Qe,darkMode:De,clusterGroupStore:Ae,isMarkersVisible:ze,L:$,monumentSvg:ke,width:i,height:o,latLng:l,marker:c,mapInstance:u,createOrUpdateMarker:d,$clusterGroupStore:a,$isMarkersVisible:h}),r.$inject_state=f=>{"width"in f&&s(1,i=f.width),"height"in f&&s(2,o=f.height),"latLng"in f&&s(3,l=f.latLng),"marker"in f&&s(0,c=f.marker),"mapInstance"in f&&(u=f.mapInstance)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),r.$$.update=()=>{r.$$.dirty&49&&c&&a&&(h?a.addLayer(c):a.removeLayer(c))},[c,i,o,l,a,h,t,e]}class yn extends de{constructor(n){super(n),_e(this,n,Yn,lt,fe,{width:1,height:2,latLng:3}),O("SvelteRegisterComponent",{component:this,tagName:"Marker",options:n,id:lt.name})}get width(){throw new Error("<Marker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set width(n){throw new Error("<Marker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get height(){throw new Error("<Marker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set height(n){throw new Error("<Marker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get latLng(){throw new Error("<Marker>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set latLng(n){throw new Error("<Marker>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const xn="src/lib/Map/Popup.svelte",$n=r=>({popup:r&1}),xt=r=>({popup:r[0]});function ct(r){let n;const s=r[4].default,a=Pt(s,r,r[3],xt),h={c:function(){a&&a.c()},l:function(t){a&&a.l(t)},m:function(t,i){a&&a.m(t,i),n=!0},p:function(t,i){a&&a.p&&(!n||i&9)&&It(a,s,t,t[3],n?Ut(s,t[3],i,$n):Et(t[3]),xt)},i:function(t){n||(R(a,t),n=!0)},o:function(t){T(a,t),n=!1},d:function(t){a&&a.d(t)}};return O("SvelteRegisterBlock",{block:h,id:ct.name,type:"if",source:"(36:2) {#if open}",ctx:r}),h}function ut(r){let n,s,a=r[2]&&ct(r);const h={c:function(){n=I("div"),a&&a.c(),this.h()},l:function(t){n=E(t,"DIV",{class:!0});var i=B(n);a&&a.l(i),i.forEach(k),this.h()},h:function(){v(n,"class","popPadding s-vUHHe_W0o0FW"),P(n,xn,34,0,671)},m:function(t,i){z(t,n,i),a&&a.m(n,null),r[5](n),s=!0},p:function(t,[i]){t[2]?a?(a.p(t,i),i&4&&R(a,1)):(a=ct(t),a.c(),R(a,1),a.m(n,null)):a&&(re(),T(a,1,1,()=>{a=null}),ae())},i:function(t){s||(R(a),s=!0)},o:function(t){T(a),s=!1},d:function(t){t&&k(n),a&&a.d(),r[5](null)}};return O("SvelteRegisterBlock",{block:h,id:ut.name,type:"component",source:"",ctx:r}),h}function ei(r,n,s){let{$$slots:a={},$$scope:h}=n;me("Popup",a,["default"]);let e,t,i=!1;const o=We("layer"),l=o.getLayer();je(()=>{s(0,e=$.popup().setContent(t)),l&&(l.bindPopup(e),l.on("popupopen",()=>s(2,i=!0)),l.on("popupclose",()=>s(2,i=!1)))}),Re(()=>{l&&l.unbindPopup(),e&&(e.remove(),s(0,e=void 0))});const c=[];Object.keys(n).forEach(d=>{!~c.indexOf(d)&&d.slice(0,2)!=="$$"&&d!=="slot"&&console.warn(`<Popup> was created with unknown prop '${d}'`)});function u(d){nn[d?"unshift":"push"](()=>{t=d,s(1,t)})}return r.$$set=d=>{"$$scope"in d&&s(3,h=d.$$scope)},r.$capture_state=()=>({onMount:je,onDestroy:Re,getContext:We,L:$,popup:e,popupElement:t,open:i,layerContext:o,layer:l}),r.$inject_state=d=>{"popup"in d&&s(0,e=d.popup),"popupElement"in d&&s(1,t=d.popupElement),"open"in d&&s(2,i=d.open)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[e,t,i,h,a,u]}class wn extends de{constructor(n){super(n),_e(this,n,ei,ut,fe,{}),O("SvelteRegisterComponent",{component:this,tagName:"Popup",options:n,id:ut.name})}}const ie="src/lib/Map/PopupContent.svelte";function ht(r){let n,s;n=new rn({props:{photos:r[6],baseUrl:r[7]},$$inline:!0});const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:function(e,t){const i={};t&64&&(i.photos=e[6]),t&128&&(i.baseUrl=e[7]),n.$set(i)},i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:ht.name,type:"if",source:"(24:2) {#if photos && photos.length}",ctx:r}),a}function ft(r){let n,s,a;const h={c:function(){n=I("div"),s=I("p"),a=new Rn(!1),this.h()},l:function(t){n=E(t,"DIV",{class:!0});var i=B(n);s=E(i,"P",{class:!0});var o=B(s);a=Tn(o,!1),o.forEach(k),i.forEach(k),this.h()},h:function(){a.a=null,v(s,"class","description"),P(s,ie,42,8,1149),v(n,"class","text-truncate"),P(n,ie,41,6,1113)},m:function(t,i){z(t,n,i),b(n,s),a.m(r[5],s)},p:function(t,i){i&32&&a.p(t[5])},d:function(t){t&&k(n)}};return O("SvelteRegisterBlock",{block:h,id:ft.name,type:"if",source:"(41:4) {#if description}",ctx:r}),h}function dt(r){let n,s,a,h,e,t,i,o,l,c,u,d,p,f,_,m,C,g,y,w,M,j,Q="learn more",S,F,be,U=r[6]&&r[6].length&&ht(r),V=r[5]&&ft(r);const ne={c:function(){U&&U.c(),n=D(),s=I("div"),a=I("div"),h=I("h2"),e=ee(r[2]),t=D(),i=I("h3"),o=ee(r[3]),l=D(),c=I("div"),u=I("div"),d=ee("#"),p=ee(r[4]),f=D(),_=I("div"),m=I("img"),g=D(),y=I("div"),V&&V.c(),w=D(),M=I("div"),j=I("button"),j.textContent=Q,this.h()},l:function(G){U&&U.l(G),n=N(G),s=E(G,"DIV",{class:!0});var A=B(s);a=E(A,"DIV",{class:!0});var oe=B(a);h=E(oe,"H2",{});var Ce=B(h);e=te(Ce,r[2]),Ce.forEach(k),t=N(oe),i=E(oe,"H3",{});var pe=B(i);o=te(pe,r[3]),pe.forEach(k),oe.forEach(k),l=N(A),c=E(A,"DIV",{class:!0});var q=B(c);u=E(q,"DIV",{class:!0});var H=B(u);d=te(H,"#"),p=te(H,r[4]),H.forEach(k),f=N(q),_=E(q,"DIV",{style:!0});var Me=B(_);m=E(Me,"IMG",{src:!0,alt:!0,style:!0}),Me.forEach(k),q.forEach(k),A.forEach(k),g=N(G),y=E(G,"DIV",{class:!0});var x=B(y);V&&V.l(x),w=N(x),M=E(x,"DIV",{class:!0});var W=B(M);j=E(W,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(j)!=="svelte-1h1xepw"&&(j.textContent=Q),W.forEach(k),x.forEach(k),this.h()},h:function(){P(h,ie,28,6,703),P(i,ie,29,6,725),v(a,"class","flex flex-col items-start"),P(a,ie,27,4,657),v(u,"class","monument-id"),P(u,ie,32,8,813),Y(m.src,C=ke)||v(m,"src",C),v(m,"alt","Monument Marker"),ge(m,"width","100%"),ge(m,"height","100%"),P(m,ie,34,12,922),ge(_,"width",r[0]+"px"),ge(_,"height",r[1]+"px"),P(_,ie,33,8,858),v(c,"class","flex flex-row items-center"),P(c,ie,31,4,764),v(s,"class","flex flex-row items-center"),P(s,ie,26,2,612),v(j,"class","learn-more-button"),P(j,ie,46,6,1264),v(M,"class","learn-more-container"),P(M,ie,45,4,1223),v(y,"class","description-container"),P(y,ie,39,2,1049)},m:function(G,A){U&&U.m(G,A),z(G,n,A),z(G,s,A),b(s,a),b(a,h),b(h,e),b(a,t),b(a,i),b(i,o),b(s,l),b(s,c),b(c,u),b(u,d),b(u,p),b(c,f),b(c,_),b(_,m),z(G,g,A),z(G,y,A),V&&V.m(y,null),b(y,w),b(y,M),b(M,j),S=!0,F||(be=K(j,"click",r[8],!1,!1,!1,!1),F=!0)},p:function(G,[A]){G[6]&&G[6].length?U?(U.p(G,A),A&64&&R(U,1)):(U=ht(G),U.c(),R(U,1),U.m(n.parentNode,n)):U&&(re(),T(U,1,1,()=>{U=null}),ae()),(!S||A&4)&&we(e,G[2]),(!S||A&8)&&we(o,G[3]),(!S||A&16)&&we(p,G[4]),(!S||A&1)&&ge(_,"width",G[0]+"px"),(!S||A&2)&&ge(_,"height",G[1]+"px"),G[5]?V?V.p(G,A):(V=ft(G),V.c(),V.m(y,w)):V&&(V.d(1),V=null)},i:function(G){S||(R(U),S=!0)},o:function(G){T(U),S=!1},d:function(G){G&&(k(n),k(s),k(g),k(y)),U&&U.d(G),V&&V.d(),F=!1,be()}};return O("SvelteRegisterBlock",{block:ne,id:dt.name,type:"component",source:"",ctx:r}),ne}function ti(r,n,s){let{$$slots:a={},$$scope:h}=n;me("PopupContent",a,[]);let{width:e}=n,{height:t}=n,{name:i}=n,{municipality:o}=n,{id:l}=n,{description:c}=n,{photos:u}=n,{baseUrl:d}=n;const p=Le();function f(m){p("closeAndShowDetails",{id:l,event:m})}r.$$.on_mount.push(function(){e===void 0&&!("width"in n||r.$$.bound[r.$$.props.width])&&console.warn("<PopupContent> was created without expected prop 'width'"),t===void 0&&!("height"in n||r.$$.bound[r.$$.props.height])&&console.warn("<PopupContent> was created without expected prop 'height'"),i===void 0&&!("name"in n||r.$$.bound[r.$$.props.name])&&console.warn("<PopupContent> was created without expected prop 'name'"),o===void 0&&!("municipality"in n||r.$$.bound[r.$$.props.municipality])&&console.warn("<PopupContent> was created without expected prop 'municipality'"),l===void 0&&!("id"in n||r.$$.bound[r.$$.props.id])&&console.warn("<PopupContent> was created without expected prop 'id'"),c===void 0&&!("description"in n||r.$$.bound[r.$$.props.description])&&console.warn("<PopupContent> was created without expected prop 'description'"),u===void 0&&!("photos"in n||r.$$.bound[r.$$.props.photos])&&console.warn("<PopupContent> was created without expected prop 'photos'"),d===void 0&&!("baseUrl"in n||r.$$.bound[r.$$.props.baseUrl])&&console.warn("<PopupContent> was created without expected prop 'baseUrl'")});const _=["width","height","name","municipality","id","description","photos","baseUrl"];return Object.keys(n).forEach(m=>{!~_.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&console.warn(`<PopupContent> was created with unknown prop '${m}'`)}),r.$$set=m=>{"width"in m&&s(0,e=m.width),"height"in m&&s(1,t=m.height),"name"in m&&s(2,i=m.name),"municipality"in m&&s(3,o=m.municipality),"id"in m&&s(4,l=m.id),"description"in m&&s(5,c=m.description),"photos"in m&&s(6,u=m.photos),"baseUrl"in m&&s(7,d=m.baseUrl)},r.$capture_state=()=>({createEventDispatcher:Le,ImageArray:rn,monumentSvg:ke,width:e,height:t,name:i,municipality:o,id:l,description:c,photos:u,baseUrl:d,dispatch:p,handleLearnMoreClick:f}),r.$inject_state=m=>{"width"in m&&s(0,e=m.width),"height"in m&&s(1,t=m.height),"name"in m&&s(2,i=m.name),"municipality"in m&&s(3,o=m.municipality),"id"in m&&s(4,l=m.id),"description"in m&&s(5,c=m.description),"photos"in m&&s(6,u=m.photos),"baseUrl"in m&&s(7,d=m.baseUrl)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[e,t,i,o,l,c,u,d,f]}class Ln extends de{constructor(n){super(n),_e(this,n,ti,dt,fe,{width:0,height:1,name:2,municipality:3,id:4,description:5,photos:6,baseUrl:7}),O("SvelteRegisterComponent",{component:this,tagName:"PopupContent",options:n,id:dt.name})}get width(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set width(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get height(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set height(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get municipality(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set municipality(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get id(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get description(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set description(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get photos(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set photos(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get baseUrl(){throw new Error("<PopupContent>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set baseUrl(n){throw new Error("<PopupContent>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:ni}=Ne,Ie="src/lib/UI/Search.svelte";function $t(r,n,s){const a=r.slice();return a[12]=n[s],a}function bn(r){let n,s,a;const h={c:function(){n=I("div"),s=I("p"),a=ee(r[3]),this.h()},l:function(t){n=E(t,"DIV",{class:!0});var i=B(n);s=E(i,"P",{});var o=B(s);a=te(o,r[3]),o.forEach(k),i.forEach(k),this.h()},h:function(){P(s,Ie,70,6,2012),v(n,"class","results-list s-GrfkGqnI6hbO"),P(n,Ie,69,4,1979)},m:function(t,i){z(t,n,i),b(n,s),b(s,a)},p:function(t,i){i&8&&we(a,t[3])},d:function(t){t&&k(n)}};return O("SvelteRegisterBlock",{block:h,id:bn.name,type:"if",source:"(69:27) ",ctx:r}),h}function kn(r){let n,s=Te(r[1]),a=[];for(let e=0;e<s.length;e+=1)a[e]=_t($t(r,s,e));const h={c:function(){n=I("ul");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l:function(t){n=E(t,"UL",{class:!0});var i=B(n);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(k),this.h()},h:function(){v(n,"class","results-list s-GrfkGqnI6hbO"),P(n,Ie,61,4,1630)},m:function(t,i){z(t,n,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,null)},p:function(t,i){if(i&34){s=Te(t[1]);let o;for(o=0;o<s.length;o+=1){const l=$t(t,s,o);a[o]?a[o].p(l,i):(a[o]=_t(l),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},d:function(t){t&&k(n),zn(a,t)}};return O("SvelteRegisterBlock",{block:h,id:kn.name,type:"if",source:"(61:39) ",ctx:r}),h}function Cn(r){let n,s,a="Loading...";const h={c:function(){n=I("div"),s=I("p"),s.textContent=a,this.h()},l:function(t){n=E(t,"DIV",{class:!0});var i=B(n);s=E(i,"P",{"data-svelte-h":!0}),Ye(s)!=="svelte-qdsr2u"&&(s.textContent=a),i.forEach(k),this.h()},h:function(){P(s,Ie,58,6,1557),v(n,"class","results-list s-GrfkGqnI6hbO"),P(n,Ie,57,4,1524)},m:function(t,i){z(t,n,i),b(n,s)},p:ye,d:function(t){t&&k(n)}};return O("SvelteRegisterBlock",{block:h,id:Cn.name,type:"if",source:"(57:4) {#if isLoading}",ctx:r}),h}function _t(r){let n,s=r[12].display_name+"",a,h,e;function t(){return r[9](r[12])}const i={c:function(){n=I("li"),a=ee(s),this.h()},l:function(l){n=E(l,"LI",{class:!0});var c=B(n);a=te(c,s),c.forEach(k),this.h()},h:function(){v(n,"class","s-GrfkGqnI6hbO"),P(n,Ie,65,6,1836)},m:function(l,c){z(l,n,c),b(n,a),h||(e=K(n,"click",t,!1,!1,!1,!1),h=!0)},p:function(l,c){r=l,c&2&&s!==(s=r[12].display_name+"")&&we(a,s)},d:function(l){l&&k(n),h=!1,e()}};return O("SvelteRegisterBlock",{block:i,id:_t.name,type:"each",source:"(63:6) {#each searchResults as result}",ctx:r}),i}function mt(r){let n,s,a,h,e;function t(c,u){if(c[2])return Cn;if(c[1].length>0)return kn;if(c[3])return bn}let i=t(r),o=i&&i(r);const l={c:function(){n=I("div"),s=I("input"),a=D(),o&&o.c(),this.h()},l:function(u){n=E(u,"DIV",{class:!0});var d=B(n);s=E(d,"INPUT",{type:!0,class:!0}),a=N(d),o&&o.l(d),d.forEach(k),this.h()},h:function(){v(s,"type","text"),v(s,"class","s-GrfkGqnI6hbO"),P(s,Ie,49,4,1319),v(n,"class","search-container s-GrfkGqnI6hbO"),P(n,Ie,48,0,1284)},m:function(u,d){z(u,n,d),b(n,s),Dt(s,r[0]),b(n,a),o&&o.m(n,null),h||(e=[K(s,"input",r[6]),K(s,"input",r[7],!1,!1,!1,!1),K(s,"keydown",r[8],!1,!1,!1,!1)],h=!0)},p:function(u,[d]){d&1&&s.value!==u[0]&&Dt(s,u[0]),i===(i=t(u))&&o?o.p(u,d):(o&&o.d(1),o=i&&i(u),o&&(o.c(),o.m(n,null)))},i:ye,o:ye,d:function(u){u&&k(n),o&&o.d(),h=!1,St(e)}};return O("SvelteRegisterBlock",{block:l,id:mt.name,type:"component",source:"",ctx:r}),l}function ii(r,n,s){let{$$slots:a={},$$scope:h}=n;me("Search",a,[]);const e=Le();let t="",i=[],o=!1,l="";async function c(){if(!t)return;s(2,o=!0),s(3,l=""),s(1,i=[]);const g=`https://nominatim.openstreetmap.org/search?city=${encodeURIComponent(t)}&format=json&limit=10`;try{const w=await(await fetch(g)).json();s(2,o=!1),w.length>0?s(1,i=w):s(3,l="Location not found")}catch{s(2,o=!1),s(3,l="Error fetching location")}}function u(g,y){s(0,t=""),s(1,i=[]),d(g,y),Ue.set(!0)}function d(g,y){const w=[g,y];console.log("locationData",w),e("updateView",{latLng:w})}const p=[];Object.keys(n).forEach(g=>{!~p.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&ni.warn(`<Search> was created with unknown prop '${g}'`)});function f(){t=this.value,s(0,t)}const _=()=>s(0,t=t.trim()),m=g=>{g.key==="Enter"&&c()},C=g=>u(g.lat,g.lon);return r.$capture_state=()=>({createEventDispatcher:Le,searchResultsVisible:Ue,dispatch:e,city:t,searchResults:i,isLoading:o,errorMessage:l,findLocation:c,selectLocation:u,updateMap:d}),r.$inject_state=g=>{"city"in g&&s(0,t=g.city),"searchResults"in g&&s(1,i=g.searchResults),"isLoading"in g&&s(2,o=g.isLoading),"errorMessage"in g&&s(3,l=g.errorMessage)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[t,i,o,l,c,u,f,_,m,C]}class Mn extends de{constructor(n){super(n),_e(this,n,ii,mt,fe,{}),O("SvelteRegisterComponent",{component:this,tagName:"Search",options:n,id:mt.name})}}const Ke="src/lib/UI/ImagePreview.svelte";function Sn(r){let n,s,a,h,e,t,i;const o={c:function(){n=I("img"),h=D(),e=I("img"),this.h()},l:function(c){n=E(c,"IMG",{src:!0,alt:!0,class:!0}),h=N(c),e=E(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Y(n.src,s=`${r[1]}${r[0][0].url}`)||v(n,"src",s),v(n,"alt",a=r[0][0].alt),v(n,"class","base-photo s-LLFXHRRAcbiM"),P(n,Ke,13,8,325),Y(e.src,t=`${r[1]}${r[0][1].url}`)||v(e,"src",t),v(e,"alt",i=r[0][1].alt),v(e,"class","overlay s-LLFXHRRAcbiM"),P(e,Ke,18,8,459)},m:function(c,u){z(c,n,u),z(c,h,u),z(c,e,u)},p:function(c,u){u&3&&!Y(n.src,s=`${c[1]}${c[0][0].url}`)&&v(n,"src",s),u&1&&a!==(a=c[0][0].alt)&&v(n,"alt",a),u&3&&!Y(e.src,t=`${c[1]}${c[0][1].url}`)&&v(e,"src",t),u&1&&i!==(i=c[0][1].alt)&&v(e,"alt",i)},d:function(c){c&&(k(n),k(h),k(e))}};return O("SvelteRegisterBlock",{block:o,id:Sn.name,type:"if",source:"(13:33) ",ctx:r}),o}function Pn(r){let n,s,a;const h={c:function(){n=I("img"),this.h()},l:function(t){n=E(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h:function(){Y(n.src,s=`${r[1]}${r[0][0].url}`)||v(n,"src",s),v(n,"alt",a=r[0][0].alt),v(n,"class","single-photo s-LLFXHRRAcbiM"),P(n,Ke,7,8,155)},m:function(t,i){z(t,n,i)},p:function(t,i){i&3&&!Y(n.src,s=`${t[1]}${t[0][0].url}`)&&v(n,"src",s),i&1&&a!==(a=t[0][0].alt)&&v(n,"alt",a)},d:function(t){t&&k(n)}};return O("SvelteRegisterBlock",{block:h,id:Pn.name,type:"if",source:"(7:4) {#if photos && photos.length === 1}",ctx:r}),h}function pt(r){let n;function s(t,i){if(t[0]&&t[0].length===1)return Pn;if(t[0].length>=2)return Sn}let a=s(r),h=a&&a(r);const e={c:function(){n=I("div"),h&&h.c(),this.h()},l:function(i){n=E(i,"DIV",{class:!0});var o=B(n);h&&h.l(o),o.forEach(k),this.h()},h:function(){v(n,"class","image-container s-LLFXHRRAcbiM"),P(n,Ke,5,0,77)},m:function(i,o){z(i,n,o),h&&h.m(n,null)},p:function(i,[o]){a===(a=s(i))&&h?h.p(i,o):(h&&h.d(1),h=a&&a(i),h&&(h.c(),h.m(n,null)))},i:ye,o:ye,d:function(i){i&&k(n),h&&h.d()}};return O("SvelteRegisterBlock",{block:e,id:pt.name,type:"component",source:"",ctx:r}),e}function oi(r,n,s){let{$$slots:a={},$$scope:h}=n;me("ImagePreview",a,[]);let{photos:e={}}=n,{baseUrl:t=""}=n;const i=["photos","baseUrl"];return Object.keys(n).forEach(o=>{!~i.indexOf(o)&&o.slice(0,2)!=="$$"&&o!=="slot"&&console.warn(`<ImagePreview> was created with unknown prop '${o}'`)}),r.$$set=o=>{"photos"in o&&s(0,e=o.photos),"baseUrl"in o&&s(1,t=o.baseUrl)},r.$capture_state=()=>({photos:e,baseUrl:t}),r.$inject_state=o=>{"photos"in o&&s(0,e=o.photos),"baseUrl"in o&&s(1,t=o.baseUrl)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[e,t]}class In extends de{constructor(n){super(n),_e(this,n,oi,pt,fe,{photos:0,baseUrl:1}),O("SvelteRegisterComponent",{component:this,tagName:"ImagePreview",options:n,id:pt.name})}get photos(){throw new Error("<ImagePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set photos(n){throw new Error("<ImagePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get baseUrl(){throw new Error("<ImagePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set baseUrl(n){throw new Error("<ImagePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const se="src/lib/UI/SearchItem.svelte";function gt(r){let n,s;n=new In({props:{photos:r[3],baseUrl:r[4]},$$inline:!0});const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:function(e,t){const i={};t&8&&(i.photos=e[3]),t&16&&(i.baseUrl=e[4]),n.$set(i)},i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:gt.name,type:"if",source:"(29:4) {#if photos && photos.length}",ctx:r}),a}function vt(r){let n,s,a,h,e,t,i,o,l,c,u,d,p,f,_,m,C,g,y,w,M,j,Q="learn more",S,F,be,U=r[3]&&r[3].length&&gt(r);const V={c:function(){n=I("div"),U&&U.c(),s=D(),a=I("div"),h=I("div"),e=ee("#"),t=ee(r[2]),i=D(),o=I("h2"),l=ee(r[0]),c=D(),u=I("h3"),d=ee(r[1]),p=D(),f=I("div"),_=I("div"),m=I("img"),g=D(),y=I("div"),w=D(),M=I("div"),j=I("button"),j.textContent=Q,this.h()},l:function(Z){n=E(Z,"DIV",{class:!0});var G=B(n);U&&U.l(G),s=N(G),a=E(G,"DIV",{class:!0});var A=B(a);h=E(A,"DIV",{class:!0});var oe=B(h);e=te(oe,"#"),t=te(oe,r[2]),oe.forEach(k),i=N(A),o=E(A,"H2",{});var Ce=B(o);l=te(Ce,r[0]),Ce.forEach(k),c=N(A),u=E(A,"H3",{});var pe=B(u);d=te(pe,r[1]),pe.forEach(k),A.forEach(k),p=N(G),f=E(G,"DIV",{class:!0});var q=B(f);_=E(q,"DIV",{style:!0});var H=B(_);m=E(H,"IMG",{src:!0,alt:!0,style:!0}),H.forEach(k),g=N(q),y=E(q,"DIV",{class:!0}),B(y).forEach(k),w=N(q),M=E(q,"DIV",{});var Me=B(M);j=E(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(j)!=="svelte-1h1xepw"&&(j.textContent=Q),Me.forEach(k),q.forEach(k),G.forEach(k),this.h()},h:function(){v(h,"class","monument-id"),P(h,se,33,8,881),P(o,se,34,8,926),P(u,se,35,8,950),v(a,"class","flex flex-col items-start ml-7 space-y-2"),P(a,se,32,4,818),Y(m.src,C=ke)||v(m,"src",C),v(m,"alt","Monument Marker"),ge(m,"width","100%"),ge(m,"height","100%"),P(m,se,40,12,1134),ge(_,"width",r[5]+"px"),ge(_,"height",r[6]+"px"),P(_,se,39,8,1070),v(y,"class","flex-grow"),P(y,se,42,8,1242),v(j,"class","learn-more-button s-bEGFb-JhA8_4"),P(j,se,44,12,1298),P(M,se,43,8,1280),v(f,"class","flex flex-col flex-wrap justify-between items-end"),P(f,se,38,4,990),v(n,"class","result-container flex flex-row justify-between items-stretch p-4 border border-black bg-white m-2 rounded-sm"),P(n,se,27,0,602)},m:function(Z,G){z(Z,n,G),U&&U.m(n,null),b(n,s),b(n,a),b(a,h),b(h,e),b(h,t),b(a,i),b(a,o),b(o,l),b(a,c),b(a,u),b(u,d),b(n,p),b(n,f),b(f,_),b(_,m),b(f,g),b(f,y),b(f,w),b(f,M),b(M,j),S=!0,F||(be=K(j,"click",r[7],!1,!1,!1,!1),F=!0)},p:function(Z,[G]){Z[3]&&Z[3].length?U?(U.p(Z,G),G&8&&R(U,1)):(U=gt(Z),U.c(),R(U,1),U.m(n,s)):U&&(re(),T(U,1,1,()=>{U=null}),ae()),(!S||G&4)&&we(t,Z[2]),(!S||G&1)&&we(l,Z[0]),(!S||G&2)&&we(d,Z[1])},i:function(Z){S||(R(U),S=!0)},o:function(Z){T(U),S=!1},d:function(Z){Z&&k(n),U&&U.d(),F=!1,be()}};return O("SvelteRegisterBlock",{block:V,id:vt.name,type:"component",source:"",ctx:r}),V}function si(r,n,s){let{$$slots:a={},$$scope:h}=n;me("SearchItem",a,[]);let e=30,t=30,{name:i}=n,{municipality:o}=n,{id:l}=n,{photos:c}=n,{baseUrl:u}=n;const d=Le();function p(_){d("closeAndShowDetails",{id:l,event:_}),Ue.set(!1)}r.$$.on_mount.push(function(){i===void 0&&!("name"in n||r.$$.bound[r.$$.props.name])&&console.warn("<SearchItem> was created without expected prop 'name'"),o===void 0&&!("municipality"in n||r.$$.bound[r.$$.props.municipality])&&console.warn("<SearchItem> was created without expected prop 'municipality'"),l===void 0&&!("id"in n||r.$$.bound[r.$$.props.id])&&console.warn("<SearchItem> was created without expected prop 'id'"),c===void 0&&!("photos"in n||r.$$.bound[r.$$.props.photos])&&console.warn("<SearchItem> was created without expected prop 'photos'"),u===void 0&&!("baseUrl"in n||r.$$.bound[r.$$.props.baseUrl])&&console.warn("<SearchItem> was created without expected prop 'baseUrl'")});const f=["name","municipality","id","photos","baseUrl"];return Object.keys(n).forEach(_=>{!~f.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&console.warn(`<SearchItem> was created with unknown prop '${_}'`)}),r.$$set=_=>{"name"in _&&s(0,i=_.name),"municipality"in _&&s(1,o=_.municipality),"id"in _&&s(2,l=_.id),"photos"in _&&s(3,c=_.photos),"baseUrl"in _&&s(4,u=_.baseUrl)},r.$capture_state=()=>({createEventDispatcher:Le,searchResultsVisible:Ue,ImagePreview:In,monumentSvg:ke,width:e,height:t,name:i,municipality:o,id:l,photos:c,baseUrl:u,dispatch:d,handleLearnMoreClick:p}),r.$inject_state=_=>{"width"in _&&s(5,e=_.width),"height"in _&&s(6,t=_.height),"name"in _&&s(0,i=_.name),"municipality"in _&&s(1,o=_.municipality),"id"in _&&s(2,l=_.id),"photos"in _&&s(3,c=_.photos),"baseUrl"in _&&s(4,u=_.baseUrl)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[i,o,l,c,u,e,t,p]}class En extends de{constructor(n){super(n),_e(this,n,si,vt,fe,{name:0,municipality:1,id:2,photos:3,baseUrl:4}),O("SvelteRegisterComponent",{component:this,tagName:"SearchItem",options:n,id:vt.name})}get name(){throw new Error("<SearchItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(n){throw new Error("<SearchItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get municipality(){throw new Error("<SearchItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set municipality(n){throw new Error("<SearchItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get id(){throw new Error("<SearchItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set id(n){throw new Error("<SearchItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get photos(){throw new Error("<SearchItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set photos(n){throw new Error("<SearchItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get baseUrl(){throw new Error("<SearchItem>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set baseUrl(n){throw new Error("<SearchItem>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:ri}=Ne,en="src/lib/UI/SearchResults.svelte";function He(r,n,s){const a=r.slice();return a[4]=n[s].name,a[5]=n[s].photos,a[6]=n[s].municipality,a[7]=n[s].id,a[9]=s,a}function yt(r,n){let s,a,h;a=new En({props:{name:n[4],photos:n[5],municipality:n[6],id:n[7],baseUrl:n[1]},$$inline:!0}),a.$on("closeAndShowDetails",n[2]);const e={key:r,first:null,c:function(){s=ve(),le(a.$$.fragment),this.h()},l:function(i){s=ve(),ce(a.$$.fragment,i),this.h()},h:function(){this.first=s},m:function(i,o){z(i,s,o),ue(a,i,o),h=!0},p:function(i,o){n=i;const l={};o&1&&(l.name=n[4]),o&1&&(l.photos=n[5]),o&1&&(l.municipality=n[6]),o&1&&(l.id=n[7]),o&2&&(l.baseUrl=n[1]),a.$set(l)},i:function(i){h||(R(a.$$.fragment,i),h=!0)},o:function(i){T(a.$$.fragment,i),h=!1},d:function(i){i&&k(s),he(a,i)}};return O("SvelteRegisterBlock",{block:e,id:yt.name,type:"each",source:"(28:0) {#each results as { name, photos, municipality, id }",ctx:n}),e}function wt(r){let n,s,a=r[0].length+"",h,e,t=r[0].length>1?"places ":"place ",i,o,l,c=[],u=new Map,d,p,f,_=Te(r[0]);const m=g=>g[7]+"-"+g[9];Je(r,_,He,m);for(let g=0;g<_.length;g+=1){let y=He(r,_,g),w=m(y);u.set(w,c[g]=yt(w,y))}const C={c:function(){n=I("div"),s=I("p"),h=ee(a),e=D(),i=ee(t),o=ee(`
replied to your call...`),l=D();for(let y=0;y<c.length;y+=1)c[y].c();this.h()},l:function(y){n=E(y,"DIV",{class:!0});var w=B(n);s=E(w,"P",{});var M=B(s);h=te(M,a),e=N(M),i=te(M,t),o=te(M,`
replied to your call...`),M.forEach(k),l=N(w);for(let j=0;j<c.length;j+=1)c[j].l(w);w.forEach(k),this.h()},h:function(){P(s,en,23,0,508),v(n,"class","sidebar s-VgsW2gEiy9eW"),P(n,en,19,0,414)},m:function(y,w){z(y,n,w),b(n,s),b(s,h),b(s,e),b(s,i),b(s,o),b(n,l);for(let M=0;M<c.length;M+=1)c[M]&&c[M].m(n,null);f=!0},p:function(y,[w]){(!f||w&1)&&a!==(a=y[0].length+"")&&we(h,a),(!f||w&1)&&t!==(t=y[0].length>1?"places ":"place ")&&we(i,t),w&7&&(_=Te(y[0]),re(),Je(y,_,He,m),c=on(c,w,m,1,y,_,u,n,sn,yt,null,He),ae())},i:function(y){if(!f){for(let w=0;w<_.length;w+=1)R(c[w]);y&&An(()=>{f&&(p&&p.end(1),d=Dn(n,tt,{x:300,duration:800}),d.start())}),f=!0}},o:function(y){for(let w=0;w<c.length;w+=1)T(c[w]);d&&d.invalidate(),y&&(p=Nn(n,tt,{x:300,duration:800})),f=!1},d:function(y){y&&k(n);for(let w=0;w<c.length;w+=1)c[w].d();y&&p&&p.end()}};return O("SvelteRegisterBlock",{block:C,id:wt.name,type:"component",source:"",ctx:r}),C}function ai(r,n,s){let{$$slots:a={},$$scope:h}=n;me("SearchResults",a,[]);const e=Le();let{results:t={}}=n,{baseUrl:i=""}=n;function o(c){e("closeAndShowDetails",c.detail)}const l=["results","baseUrl"];return Object.keys(n).forEach(c=>{!~l.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&ri.warn(`<SearchResults> was created with unknown prop '${c}'`)}),r.$$set=c=>{"results"in c&&s(0,t=c.results),"baseUrl"in c&&s(1,i=c.baseUrl)},r.$capture_state=()=>({fly:tt,createEventDispatcher:Le,dispatch:e,SearchItem:En,results:t,baseUrl:i,handleDetails:o}),r.$inject_state=c=>{"results"in c&&s(0,t=c.results),"baseUrl"in c&&s(1,i=c.baseUrl)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),r.$$.update=()=>{r.$$.dirty&1&&console.log("results",t)},[t,i,o]}class Un extends de{constructor(n){super(n),_e(this,n,ai,wt,fe,{results:0,baseUrl:1}),O("SvelteRegisterComponent",{component:this,tagName:"SearchResults",options:n,id:wt.name})}get results(){throw new Error("<SearchResults>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set results(n){throw new Error("<SearchResults>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get baseUrl(){throw new Error("<SearchResults>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set baseUrl(n){throw new Error("<SearchResults>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:li}=Ne,tn="src/routes/map/+page.svelte";function Fe(r,n,s){const a=r.slice();return a[15]=n[s].latLng,a[16]=n[s].visible,a[17]=n[s].name,a[18]=n[s].description,a[19]=n[s].photos,a[20]=n[s].municipality,a[21]=n[s].id,a[23]=s,a}function Lt(r){let n,s;n=new yn({props:{latLng:r[15],width:r[6],height:r[7],$$slots:{default:[Bn]},$$scope:{ctx:r}},$$inline:!0});const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:function(e,t){const i={};t&16&&(i.latLng=e[15]),t&33554448&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:Lt.name,type:"if",source:"(78:6) {#if visible}",ctx:r}),a}function Gn(r){let n,s;function a(...e){return r[13](r[24],...e)}n=new Ln({props:{width:r[6],height:r[7],name:r[17],municipality:r[20],id:r[21],description:r[18],photos:r[19],baseUrl:r[8]},$$inline:!0}),n.$on("closeAndShowDetails",a);const h={c:function(){le(n.$$.fragment)},l:function(t){ce(n.$$.fragment,t)},m:function(t,i){ue(n,t,i),s=!0},p:function(t,i){r=t;const o={};i&16&&(o.name=r[17]),i&16&&(o.municipality=r[20]),i&16&&(o.id=r[21]),i&16&&(o.description=r[18]),i&16&&(o.photos=r[19]),n.$set(o)},i:function(t){s||(R(n.$$.fragment,t),s=!0)},o:function(t){T(n.$$.fragment,t),s=!1},d:function(t){he(n,t)}};return O("SvelteRegisterBlock",{block:h,id:Gn.name,type:"slot",source:"(80:10) <Popup let:popup>",ctx:r}),h}function Bn(r){let n,s,a;n=new wn({props:{$$slots:{default:[Gn,({popup:e})=>({24:e}),({popup:e})=>e?16777216:0]},$$scope:{ctx:r}},$$inline:!0});const h={c:function(){le(n.$$.fragment),s=D()},l:function(t){ce(n.$$.fragment,t),s=N(t)},m:function(t,i){ue(n,t,i),z(t,s,i),a=!0},p:function(t,i){const o={};i&50331664&&(o.$$scope={dirty:i,ctx:t}),n.$set(o)},i:function(t){a||(R(n.$$.fragment,t),a=!0)},o:function(t){T(n.$$.fragment,t),a=!1},d:function(t){t&&k(s),he(n,t)}};return O("SvelteRegisterBlock",{block:h,id:Bn.name,type:"slot",source:"(79:8) <Marker {latLng} {width} {height}>",ctx:r}),h}function bt(r,n){let s,a,h,e=n[16]&&Lt(n);const t={key:r,first:null,c:function(){s=ve(),e&&e.c(),a=ve(),this.h()},l:function(o){s=ve(),e&&e.l(o),a=ve(),this.h()},h:function(){this.first=s},m:function(o,l){z(o,s,l),e&&e.m(o,l),z(o,a,l),h=!0},p:function(o,l){n=o,n[16]?e?(e.p(n,l),l&16&&R(e,1)):(e=Lt(n),e.c(),R(e,1),e.m(a.parentNode,a)):e&&(re(),T(e,1,1,()=>{e=null}),ae())},i:function(o){h||(R(e),h=!0)},o:function(o){T(e),h=!1},d:function(o){o&&(k(s),k(a)),e&&e.d(o)}};return O("SvelteRegisterBlock",{block:t,id:bt.name,type:"each",source:"(77:4) {#each $visibleMarkers as { latLng, visible, name, description, photos, municipality, id }",ctx:n}),t}function On(r){let n=[],s=new Map,a,h,e=Te(r[4]);const t=o=>o[15].join(",")+"-"+o[23];Je(r,e,Fe,t);for(let o=0;o<e.length;o+=1){let l=Fe(r,e,o),c=t(l);s.set(c,n[o]=bt(c,l))}const i={c:function(){for(let l=0;l<n.length;l+=1)n[l].c();a=ve()},l:function(l){for(let c=0;c<n.length;c+=1)n[c].l(l);a=ve()},m:function(l,c){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(l,c);z(l,a,c),h=!0},p:function(l,c){c&16779728&&(e=Te(l[4]),re(),Je(l,e,Fe,t),n=on(n,c,t,1,l,e,s,a.parentNode,sn,bt,a,Fe),ae())},i:function(l){if(!h){for(let c=0;c<e.length;c+=1)R(n[c]);h=!0}},o:function(l){for(let c=0;c<n.length;c+=1)T(n[c]);h=!1},d:function(l){l&&k(a);for(let c=0;c<n.length;c+=1)n[c].d(l)}};return O("SvelteRegisterBlock",{block:i,id:On.name,type:"slot",source:"(76:2) <Leaflet view={$currentViewStore} zoom={zoomLevel}>",ctx:r}),i}function kt(r){let n,s;n=new an({$$inline:!0}),n.$on("click",jn);const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:ye,i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:kt.name,type:"if",source:"(101:2) {#if sideBarVisible}",ctx:r}),a}function Ct(r){let n,s;n=new Un({props:{results:r[4],baseUrl:r[8]},$$inline:!0}),n.$on("closeAndShowDetails",r[14]);const a={c:function(){le(n.$$.fragment)},l:function(e){ce(n.$$.fragment,e)},m:function(e,t){ue(n,e,t),s=!0},p:function(e,t){const i={};t&16&&(i.results=e[4]),n.$set(i)},i:function(e){s||(R(n.$$.fragment,e),s=!0)},o:function(e){T(n.$$.fragment,e),s=!1},d:function(e){he(n,e)}};return O("SvelteRegisterBlock",{block:a,id:Ct.name,type:"if",source:"(104:0) {#if $searchResultsVisible}",ctx:r}),a}function Mt(r){let n,s,a,h,e,t,i,o,l,c,u,d,p;t=new Mn({$$inline:!0}),t.$on("updateView",r[10]),o=new vn({props:{view:r[3],zoom:r[1],$$slots:{default:[On]},$$scope:{ctx:r}},$$inline:!0});let f=r[0]&&kt(r),_=r[5]&&Ct(r);const m={c:function(){n=I("h1"),s=ee("*countermap"),h=D(),e=I("div"),le(t.$$.fragment),i=D(),le(o.$$.fragment),l=D(),f&&f.c(),c=D(),_&&_.c(),this.h()},l:function(g){n=E(g,"H1",{class:!0});var y=B(n);s=te(y,"*countermap"),y.forEach(k),h=N(g),e=E(g,"DIV",{class:!0});var w=B(e);ce(t.$$.fragment,w),i=N(w),ce(o.$$.fragment,w),l=N(w),f&&f.l(w),c=N(w),_&&_.l(w),w.forEach(k),this.h()},h:function(){v(n,"class",a=Nt(r[2]==="dark"?"darkmode":"")+" s-_HdLFogMzSo7"),P(n,tn,70,0,1970),v(e,"class","w-full h-screen"),P(e,tn,73,0,2154)},m:function(g,y){z(g,n,y),b(n,s),z(g,h,y),z(g,e,y),ue(t,e,null),b(e,i),ue(o,e,null),b(e,l),f&&f.m(e,null),b(e,c),_&&_.m(e,null),u=!0,d||(p=K(e,"click",r[12],!1,!1,!1,!1),d=!0)},p:function(g,[y]){(!u||y&4&&a!==(a=Nt(g[2]==="dark"?"darkmode":"")+" s-_HdLFogMzSo7"))&&v(n,"class",a);const w={};y&8&&(w.view=g[3]),y&2&&(w.zoom=g[1]),y&33554448&&(w.$$scope={dirty:y,ctx:g}),o.$set(w),g[0]?f?(f.p(g,y),y&1&&R(f,1)):(f=kt(g),f.c(),R(f,1),f.m(e,c)):f&&(re(),T(f,1,1,()=>{f=null}),ae()),g[5]?_?(_.p(g,y),y&32&&R(_,1)):(_=Ct(g),_.c(),R(_,1),_.m(e,null)):_&&(re(),T(_,1,1,()=>{_=null}),ae())},i:function(g){u||(R(t.$$.fragment,g),R(o.$$.fragment,g),R(f),R(_),u=!0)},o:function(g){T(t.$$.fragment,g),T(o.$$.fragment,g),T(f),T(_),u=!1},d:function(g){g&&(k(n),k(h),k(e)),he(t),he(o),f&&f.d(),_&&_.d(),d=!1,p()}};return O("SvelteRegisterBlock",{block:m,id:Mt.name,type:"component",source:"",ctx:r}),m}function jn(r){r.stopPropagation()}function ci(r,n,s){let a,h,e,t;Se(De,"darkMode"),Pe(r,De,M=>s(2,a=M)),Se(Ze,"currentViewStore"),Pe(r,Ze,M=>s(3,h=M)),Se(Ue,"searchResultsVisible"),Pe(r,Ue,M=>s(5,t=M));let{$$slots:i={},$$scope:o}=n;me("Page",i,[]);let l=!1,c=30,u=30,d=8,p="https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/";const f=Wt([Xt,Oe],([M,j])=>!j||typeof j.contains!="function"?[]:M.filter(Q=>{const[S,F]=Q.latLng;return j.contains($.latLng(S,F))}));Se(f,"visibleMarkers"),Pe(r,f,M=>s(4,e=M));function _(M){const{latLng:j}=M.detail;s(1,d=12),Ze.set({lat:j[0],lng:j[1]})}function m(M,j){M.stopPropagation(),s(0,l=!0),Qt.set(j)}function C(){l&&s(0,l=!1)}const g=[];Object.keys(n).forEach(M=>{!~g.indexOf(M)&&M.slice(0,2)!=="$$"&&M!=="slot"&&li.warn(`<Page> was created with unknown prop '${M}'`)});const y=(M,{detail:j})=>{console.log(j),m(j.event,j.id),M.close()},w=({detail:M})=>{console.log(M),m(M.event,M.id)};return r.$capture_state=()=>({derived:Wt,L:$,Leaflet:vn,Marker:yn,Popup:wn,PopupContent:Ln,Sidebar:an,Search:Mn,SearchResults:Un,markersStore:Xt,initialViewStore:Hn,currentViewStore:Ze,mapBoundsStore:Oe,darkMode:De,selectedMarkerId:Qt,searchResultsVisible:Ue,sideBarVisible:l,width:c,height:u,zoomLevel:d,baseUrl:p,visibleMarkers:f,handleUpdateView:_,showDetails:m,handleDivClick:C,stopPropagation:jn,$darkMode:a,$currentViewStore:h,$visibleMarkers:e,$searchResultsVisible:t}),r.$inject_state=M=>{"sideBarVisible"in M&&s(0,l=M.sideBarVisible),"width"in M&&s(6,c=M.width),"height"in M&&s(7,u=M.height),"zoomLevel"in M&&s(1,d=M.zoomLevel),"baseUrl"in M&&s(8,p=M.baseUrl)},n&&"$$inject"in n&&r.$inject_state(n.$$inject),[l,d,a,h,e,t,c,u,p,f,_,m,C,y,w]}class pi extends de{constructor(n){super(n),_e(this,n,ci,Mt,fe,{}),O("SvelteRegisterComponent",{component:this,tagName:"Page",options:n,id:Mt.name})}}export{pi as component,mi as universal};
