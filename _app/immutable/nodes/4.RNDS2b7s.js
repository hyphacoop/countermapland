import{a as G,v as H,d as I,e as p,f as V,h as g,j as O,o as F,l as T,m as v,n as j,p as z,q as K,w as P,x as J}from"../chunks/scheduler.J3HtxzZH.js";import{S as Q,i as U,d as y,g as $,v as W,b as _,f as d,c as w,e as k}from"../chunks/index.MIe1TYhU.js";/* empty css                    */import{d as X}from"../chunks/index.Rnsz-MMY.js";import{m as C,a as E}from"../chunks/stores.dYNDiA1t.js";const Y=!1,se=Object.freeze(Object.defineProperty({__proto__:null,ssr:Y},Symbol.toStringTag,{value:"Module"})),b="src/routes/objects/+page.svelte";function D(i,t,e){const r=i.slice();return r[4]=t[e].photos,r[6]=e,r}function N(i,t,e){const r=i.slice();return r[7]=t[e].url,r[8]=t[e].alt,r[10]=e,r}function M(i){let t,e,r=$(i[4]),l=[];for(let o=0;o<r.length;o+=1)l[o]=B(N(i,r,o));const f={c:function(){t=p("div");for(let n=0;n<l.length;n+=1)l[n].c();e=V(),this.h()},l:function(n){t=g(n,"DIV",{class:!0,key:!0});var u=O(t);for(let s=0;s<l.length;s+=1)l[s].l(u);e=T(u),u.forEach(_),this.h()},h:function(){d(t,"class","image-container s-BO-laqXqKOol"),d(t,"key",i[6]),v(t,b,48,16,2183)},m:function(n,u){w(n,t,u);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null);k(t,e)},p:function(n,u){if(u&3){r=$(n[4]);let s;for(s=0;s<r.length;s+=1){const a=N(n,r,s);l[s]?l[s].p(a,u):(l[s]=B(a),l[s].c(),l[s].m(t,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=r.length}},d:function(n){n&&_(t),z(l,n)}};return y("SvelteRegisterBlock",{block:f,id:M.name,type:"if",source:"(48:12) {#if photos && photos.length}",ctx:i}),f}function B(i){let t,e,r,l;const f={c:function(){t=p("div"),e=p("img"),this.h()},l:function(n){t=g(n,"DIV",{class:!0,style:!0});var u=O(t);e=g(u,"IMG",{src:!0,alt:!0,key:!0,class:!0}),u.forEach(_),this.h()},h:function(){P(e.src,r=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${i[7]}`)||d(e,"src",r),d(e,"alt",l=i[8]),d(e,"key",i[10]),d(e,"class","s-BO-laqXqKOol"),v(e,b,51,28,2425),d(t,"class","photo-wrapper s-BO-laqXqKOol"),J(t,"transform",i[1](i[10],i[6])),v(t,b,50,24,2310)},m:function(n,u){w(n,t,u),k(t,e)},p:function(n,u){u&1&&!P(e.src,r=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${n[7]}`)&&d(e,"src",r),u&1&&l!==(l=n[8])&&d(e,"alt",l)},d:function(n){n&&_(t)}};return y("SvelteRegisterBlock",{block:f,id:B.name,type:"each",source:"(50:20) {#each photos as {url, alt}",ctx:i}),f}function R(i){let t,e=i[4]&&i[4].length&&M(i);const r={c:function(){e&&e.c(),t=K()},l:function(f){e&&e.l(f),t=K()},m:function(f,o){e&&e.m(f,o),w(f,t,o)},p:function(f,o){f[4]&&f[4].length?e?e.p(f,o):(e=M(f),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d:function(f){f&&_(t),e&&e.d(f)}};return y("SvelteRegisterBlock",{block:r,id:R.name,type:"each",source:"(47:8) {#each $visibleRandomMarkers as {photos}",ctx:i}),r}function S(i){let t,e,r="counter*map",l,f,o=$(i[0]),n=[];for(let s=0;s<o.length;s+=1)n[s]=R(D(i,o,s));const u={c:function(){t=p("main"),e=p("h1"),e.textContent=r,l=V(),f=p("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l:function(a){t=g(a,"MAIN",{class:!0});var m=O(t);e=g(m,"H1",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-8cnduq"&&(e.textContent=r),l=T(m),f=g(m,"DIV",{class:!0});var c=O(f);for(let h=0;h<n.length;h+=1)n[h].l(c);c.forEach(_),m.forEach(_),this.h()},h:function(){d(e,"class","s-BO-laqXqKOol"),v(e,b,42,4,2004),d(f,"class","image-grid s-BO-laqXqKOol"),v(f,b,45,4,2043),d(t,"class","s-BO-laqXqKOol"),v(t,b,41,0,1993)},m:function(a,m){w(a,t,m),k(t,e),k(t,l),k(t,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(f,null)},p:function(a,[m]){if(m&3){o=$(a[0]);let c;for(c=0;c<o.length;c+=1){const h=D(a,o,c);n[c]?n[c].p(h,m):(n[c]=R(h),n[c].c(),n[c].m(f,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=o.length}},i:j,o:j,d:function(a){a&&_(t),z(n,a)}};return y("SvelteRegisterBlock",{block:u,id:S.name,type:"component",source:"",ctx:i}),u}function Z(i,t,e){let r,{$$slots:l={},$$scope:f}=t;W("Page",l,[]);const o=[(a,m)=>`translate(${m*100+a*50}px, ${a*50}px)`,(a,m)=>`translate(${-(m*100)+a*50}px, ${a*50}px)`,(a,m)=>`translate(${m*100+a*50}px, ${-(a*50)}px)`,(a,m)=>`translate(${-(m*100)+a*50}px, ${-(a*50)}px)`];function n(a,m){const c=(a+m)%o.length;return o[c](a,m)}const u=X([C,E],([a,m])=>{if(!m||typeof m.contains!="function")return[];const c=a.filter(h=>{const[q,A]=h.latLng;return m.contains(L.latLng(q,A))});for(let h=c.length-1;h>0;h--){const q=Math.floor(Math.random()*(h+1));[c[h],c[q]]=[c[q],c[h]]}return c.slice(0,4)});H(u,"visibleRandomMarkers"),I(i,u,a=>e(0,r=a));const s=[];return Object.keys(t).forEach(a=>{!~s.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Page> was created with unknown prop '${a}'`)}),i.$capture_state=()=>({derived:X,markersStore:C,mapBoundsStore:E,transformPatterns:o,getTransformation:n,visibleRandomMarkers:u,$visibleRandomMarkers:r}),[r,n,u]}class le extends Q{constructor(t){super(t),U(this,t,Z,S,G,{}),y("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:S.name})}}export{le as component,se as universal};
