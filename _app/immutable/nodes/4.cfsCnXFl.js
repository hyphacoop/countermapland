import{B as Z,a as ae,e as y,h as j,j as B,m as O,C as he,y as q,t as _e,f as E,k as pe,l as M,D as Y,E as V,A as se,H as ge,F as ve,v as be,d as ke,o as ye}from"../chunks/scheduler.Q2N5D7Aa.js";import{S as ce,i as re,d as k,o as R,p as x,v as fe,b,f as v,c as $,u as je,q as Oe,r as we,w as Se,e as S,s as $e,x as ue,t as D,a as I,g as Be,k as Re,l as qe,m as Ee,n as Me,j as Ce}from"../chunks/index.o_UTksgX.js";import{m as ee,a as te,g as Ke}from"../chunks/stores.U8ca_8wQ.js";/* empty css                    */import{d as ne}from"../chunks/index.ootanyEp.js";const Pe=!1,Ue=Object.freeze(Object.defineProperty({__proto__:null,ssr:Pe},Symbol.toStringTag,{value:"Module"}));function De(a){const e=a-1;return e*e*e+1}function X(a,{delay:e=0,duration:t=400,easing:n=De,x:s=0,y:o=0,opacity:l=0}={}){const i=getComputedStyle(a),c=+i.opacity,r=i.transform==="none"?"":i.transform,d=c*(1-l),[f,u]=Z(s),[_,m]=Z(o);return{delay:e,duration:t,easing:n,css:(h,g)=>`
			transform: ${r} translate(${(1-h)*f}${u}, ${(1-h)*_}${m});
			opacity: ${c-d*g}`}}const K="src/lib/UI/Sidebar.svelte";function P(a,e,t){const n=a.slice();return n[1]=e[t].latLng,n[2]=e[t].visible,n[3]=e[t].name,n[4]=e[t].description,n[5]=e[t].photos,n[7]=t,n}function le(a,e,t){const n=a.slice();return n[8]=e[t].url,n[9]=e[t].alt,n}function H(a){let e,t,n=a[3]+"",s,o,l,i,c=a[5]&&a[5].length&&N(a),r=a[4]&&J(a);const d={c:function(){e=y("div"),t=y("h3"),s=_e(n),o=E(),c&&c.c(),l=E(),r&&r.c(),i=E(),this.h()},l:function(u){e=j(u,"DIV",{class:!0});var _=B(e);t=j(_,"H3",{});var m=B(t);s=pe(m,n),m.forEach(b),o=M(_),c&&c.l(_),l=M(_),r&&r.l(_),i=M(_),_.forEach(b),this.h()},h:function(){O(t,K,11,12,388),v(e,"class","marker"),O(e,K,10,10,355)},m:function(u,_){$(u,e,_),S(e,t),S(t,s),S(e,o),c&&c.m(e,null),S(e,l),r&&r.m(e,null),S(e,i)},p:function(u,_){_&1&&n!==(n=u[3]+"")&&$e(s,n),u[5]&&u[5].length?c?c.p(u,_):(c=N(u),c.c(),c.m(e,l)):c&&(c.d(1),c=null),u[4]?r?r.p(u,_):(r=J(u),r.c(),r.m(e,i)):r&&(r.d(1),r=null)},d:function(u){u&&b(e),c&&c.d(),r&&r.d()}};return k("SvelteRegisterBlock",{block:d,id:H.name,type:"if",source:"(10:8) {#if visible}",ctx:a}),d}function N(a){let e,t=R(a[5]),n=[];for(let o=0;o<t.length;o+=1)n[o]=T(le(a,t,o));const s={c:function(){e=y("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l:function(l){e=j(l,"DIV",{class:!0});var i=B(e);for(let c=0;c<n.length;c+=1)n[c].l(i);i.forEach(b),this.h()},h:function(){v(e,"class","flex flex-row s-yrjxLKiJ4v19"),O(e,K,13,14,460)},m:function(l,i){$(l,e,i);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null)},p:function(l,i){if(i&1){t=R(l[5]);let c;for(c=0;c<t.length;c+=1){const r=le(l,t,c);n[c]?n[c].p(r,i):(n[c]=T(r),n[c].c(),n[c].m(e,null))}for(;c<n.length;c+=1)n[c].d(1);n.length=t.length}},d:function(l){l&&b(e),Y(n,l)}};return k("SvelteRegisterBlock",{block:s,id:N.name,type:"if",source:"(13:12) {#if photos && photos.length}",ctx:a}),s}function T(a){let e,t,n;const s={c:function(){e=y("img"),this.h()},l:function(l){e=j(l,"IMG",{src:!0,alt:!0,style:!0}),this.h()},h:function(){V(e.src,t=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${a[8]}`)||v(e,"src",t),v(e,"alt",n=a[9]),se(e,"height","auto"),O(e,K,15,18,551)},m:function(l,i){$(l,e,i)},p:function(l,i){i&1&&!V(e.src,t=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${l[8]}`)&&v(e,"src",t),i&1&&n!==(n=l[9])&&v(e,"alt",n)},d:function(l){l&&b(e)}};return k("SvelteRegisterBlock",{block:s,id:T.name,type:"each",source:"(15:16) {#each photos as {url, alt}}",ctx:a}),s}function J(a){let e,t,n=a[4]+"";const s={c:function(){e=y("p"),t=new ge(!1),this.h()},l:function(l){e=j(l,"P",{class:!0});var i=B(e);t=ve(i,!1),i.forEach(b),this.h()},h:function(){t.a=null,v(e,"class","description s-yrjxLKiJ4v19"),O(e,K,20,14,810)},m:function(l,i){$(l,e,i),t.m(n,e)},p:function(l,i){i&1&&n!==(n=l[4]+"")&&t.p(n)},d:function(l){l&&b(e)}};return k("SvelteRegisterBlock",{block:s,id:J.name,type:"if",source:"(20:12) {#if description}",ctx:a}),s}function U(a,e){let t,n,s=e[2]&&H(e);const o={key:a,first:null,c:function(){t=q(),s&&s.c(),n=q(),this.h()},l:function(i){t=q(),s&&s.l(i),n=q(),this.h()},h:function(){this.first=t},m:function(i,c){$(i,t,c),s&&s.m(i,c),$(i,n,c)},p:function(i,c){e=i,e[2]?s?s.p(e,c):(s=H(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d:function(i){i&&(b(t),b(n)),s&&s.d(i)}};return k("SvelteRegisterBlock",{block:o,id:U.name,type:"each",source:"(9:6) {#each selectedObject as { latLng, visible, name, description, photos }",ctx:e}),o}function A(a){let e,t=[],n=new Map,s,o,l,i=R(a[0]);const c=d=>d[1].join(",")+"-"+d[7];x(a,i,P,c);for(let d=0;d<i.length;d+=1){let f=P(a,i,d),u=c(f);n.set(u,t[d]=U(u,f))}const r={c:function(){e=y("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l:function(f){e=j(f,"DIV",{class:!0});var u=B(e);for(let _=0;_<t.length;_+=1)t[_].l(u);u.forEach(b),this.h()},h:function(){v(e,"class","sidebar s-yrjxLKiJ4v19"),O(e,K,7,4,111)},m:function(f,u){$(f,e,u);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);l=!0},p:function(f,[u]){u&1&&(i=R(f[0]),x(f,i,P,c),t=je(t,u,c,1,f,i,n,e,Oe,U,null,P))},i:function(f){l||(f&&he(()=>{l&&(o&&o.end(1),s=we(e,X,{x:300,duration:800}),s.start())}),l=!0)},o:function(f){s&&s.invalidate(),f&&(o=Se(e,X,{x:300,duration:800})),l=!1},d:function(f){f&&b(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&o&&o.end()}};return k("SvelteRegisterBlock",{block:r,id:A.name,type:"component",source:"",ctx:a}),r}function Le(a,e,t){let{$$slots:n={},$$scope:s}=e;fe("Sidebar",n,[]);let{selectedObject:o=[]}=e;const l=["selectedObject"];return Object.keys(e).forEach(i=>{!~l.indexOf(i)&&i.slice(0,2)!=="$$"&&i!=="slot"&&console.warn(`<Sidebar> was created with unknown prop '${i}'`)}),a.$$set=i=>{"selectedObject"in i&&t(0,o=i.selectedObject)},a.$capture_state=()=>({fly:X,selectedObject:o}),a.$inject_state=i=>{"selectedObject"in i&&t(0,o=i.selectedObject)},e&&"$$inject"in e&&a.$inject_state(e.$$inject),[o]}class me extends ce{constructor(e){super(e),re(this,e,Le,A,ae,{selectedObject:0}),k("SvelteRegisterComponent",{component:this,tagName:"Sidebar",options:e,id:A.name})}get selectedObject(){throw new Error("<Sidebar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selectedObject(e){throw new Error("<Sidebar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:Ve}=Ke,C="src/routes/objects/+page.svelte";function ie(a,e,t){const n=a.slice();return n[8]=e[t],n[10]=t,n}function oe(a,e,t){const n=a.slice();return n[11]=e[t].url,n[12]=e[t].alt,n[14]=t,n}function G(a){let e,t,n=R(a[8].photos),s=[];for(let l=0;l<n.length;l+=1)s[l]=z(oe(a,n,l));const o={c:function(){e=y("div");for(let i=0;i<s.length;i+=1)s[i].c();t=E(),this.h()},l:function(i){e=j(i,"DIV",{class:!0,key:!0});var c=B(e);for(let r=0;r<s.length;r+=1)s[r].l(c);t=M(c),c.forEach(b),this.h()},h:function(){v(e,"class","image-container s-BO-laqXqKOol"),v(e,"key",a[10]),O(e,C,61,16,2624)},m:function(i,c){$(i,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);S(e,t)},p:function(i,c){if(c&22){n=R(i[8].photos);let r;for(r=0;r<n.length;r+=1){const d=oe(i,n,r);s[r]?s[r].p(d,c):(s[r]=z(d),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},d:function(i){i&&b(e),Y(s,i)}};return k("SvelteRegisterBlock",{block:o,id:G.name,type:"if",source:"(61:12) {#if marker.photos && marker.photos.length}",ctx:a}),o}function z(a){let e,t,n,s,o,l;function i(){return a[6](a[8])}const c={c:function(){e=y("div"),t=y("img"),this.h()},l:function(d){e=j(d,"DIV",{class:!0,style:!0});var f=B(e);t=j(f,"IMG",{src:!0,alt:!0,key:!0,class:!0}),f.forEach(b),this.h()},h:function(){V(t.src,n=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${a[11]}`)||v(t,"src",n),v(t,"alt",s=a[12]),v(t,"key",a[14]),v(t,"class","s-BO-laqXqKOol"),O(t,C,64,28,2873),v(e,"class","photo-wrapper s-BO-laqXqKOol"),se(e,"transform",a[2](a[14],a[10])),O(e,C,63,24,2758)},m:function(d,f){$(d,e,f),S(e,t),o||(l=ue(t,"click",i,!1,!1,!1,!1),o=!0)},p:function(d,f){a=d,f&2&&!V(t.src,n=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${a[11]}`)&&v(t,"src",n),f&2&&s!==(s=a[12])&&v(t,"alt",s)},d:function(d){d&&b(e),o=!1,l()}};return k("SvelteRegisterBlock",{block:c,id:z.name,type:"each",source:"(63:20) {#each marker.photos as {url, alt}",ctx:a}),c}function F(a){let e,t=a[8].photos&&a[8].photos.length&&G(a);const n={c:function(){t&&t.c(),e=q()},l:function(o){t&&t.l(o),e=q()},m:function(o,l){t&&t.m(o,l),$(o,e,l)},p:function(o,l){o[8].photos&&o[8].photos.length?t?t.p(o,l):(t=G(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d:function(o){o&&b(e),t&&t.d(o)}};return k("SvelteRegisterBlock",{block:n,id:F.name,type:"each",source:"(60:8) {#each $visibleRandomMarkers as marker, index}",ctx:a}),n}function Q(a){let e,t;e=new me({props:{selectedObject:a[0]},$$inline:!0});const n={c:function(){Re(e.$$.fragment)},l:function(o){qe(e.$$.fragment,o)},m:function(o,l){Ee(e,o,l),t=!0},p:function(o,l){const i={};l&1&&(i.selectedObject=o[0]),e.$set(i)},i:function(o){t||(D(e.$$.fragment,o),t=!0)},o:function(o){I(e.$$.fragment,o),t=!1},d:function(o){Me(e,o)}};return k("SvelteRegisterBlock",{block:n,id:Q.name,type:"if",source:"(72:4) {#if selectedObject.length > 0}",ctx:a}),n}function W(a){let e,t,n="counter*map",s,o,l,i,c,r,d=R(a[1]),f=[];for(let m=0;m<d.length;m+=1)f[m]=F(ie(a,d,m));let u=a[0].length>0&&Q(a);const _={c:function(){e=y("main"),t=y("h1"),t.textContent=n,s=E(),o=y("div");for(let h=0;h<f.length;h+=1)f[h].c();l=E(),u&&u.c(),this.h()},l:function(h){e=j(h,"MAIN",{class:!0});var g=B(e);t=j(g,"H1",{class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-8cnduq"&&(t.textContent=n),s=M(g),o=j(g,"DIV",{class:!0});var p=B(o);for(let w=0;w<f.length;w+=1)f[w].l(p);p.forEach(b),l=M(g),u&&u.l(g),g.forEach(b),this.h()},h:function(){v(t,"class","s-BO-laqXqKOol"),O(t,C,55,4,2433),v(o,"class","image-grid s-BO-laqXqKOol"),O(o,C,58,4,2472),v(e,"class","s-BO-laqXqKOol"),O(e,C,54,0,2395)},m:function(h,g){$(h,e,g),S(e,t),S(e,s),S(e,o);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(o,null);S(e,l),u&&u.m(e,null),i=!0,c||(r=ue(e,"click",a[5],!1,!1,!1,!1),c=!0)},p:function(h,[g]){if(g&22){d=R(h[1]);let p;for(p=0;p<d.length;p+=1){const w=ie(h,d,p);f[p]?f[p].p(w,g):(f[p]=F(w),f[p].c(),f[p].m(o,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=d.length}h[0].length>0?u?(u.p(h,g),g&1&&D(u,1)):(u=Q(h),u.c(),D(u,1),u.m(e,null)):u&&(Ce(),I(u,1,1,()=>{u=null}),Be())},i:function(h){i||(D(u),i=!0)},o:function(h){I(u),i=!1},d:function(h){h&&b(e),Y(f,h),u&&u.d(),c=!1,r()}};return k("SvelteRegisterBlock",{block:_,id:W.name,type:"component",source:"",ctx:a}),_}function Ie(a,e,t){let n,{$$slots:s={},$$scope:o}=e;fe("Page",s,[]);let l=[];const i=[(m,h)=>`translate(${h*100+m*50}px, ${m*70}px)`,(m,h)=>`translate(${-(h*100)+m*50}px, ${m*80}px)`,(m,h)=>`translate(${h*100+m*50}px, ${-(m*50)}px)`,(m,h)=>`translate(${-(h*100)+m*50}px, ${-(m*50)}px)`];function c(m,h){const g=(m+h)%i.length;return i[g](m,h)}const r=ne([ee,te],([m,h])=>{if(!h||typeof h.contains!="function")return[];const g=m.filter(p=>{const[w,de]=p.latLng;return h.contains(L.latLng(w,de))});for(let p=g.length-1;p>0;p--){const w=Math.floor(Math.random()*(p+1));[g[p],g[w]]=[g[w],g[p]]}return g.slice(0,4)});be(r,"visibleRandomMarkers"),ke(a,r,m=>t(1,n=m));function d(m){t(0,l=[m]),console.log("selectedObject",l)}function f(m){m.target===m.currentTarget&&t(0,l=[])}const u=[];Object.keys(e).forEach(m=>{!~u.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&Ve.warn(`<Page> was created with unknown prop '${m}'`)});const _=m=>d(m);return a.$capture_state=()=>({derived:ne,markersStore:ee,mapBoundsStore:te,Sidebar:me,selectedObject:l,transformPatterns:i,getTransformation:c,visibleRandomMarkers:r,handleImageClick:d,handleMainClick:f,$visibleRandomMarkers:n}),a.$inject_state=m=>{"selectedObject"in m&&t(0,l=m.selectedObject)},e&&"$$inject"in e&&a.$inject_state(e.$$inject),[l,n,c,r,d,f,_]}class Ae extends ce{constructor(e){super(e),re(this,e,Ie,W,ae,{}),k("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:W.name})}}export{Ae as component,Ue as universal};
