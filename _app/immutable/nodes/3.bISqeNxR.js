import{a as O,e as k,d as q,_ as D,f as A,h as b,v as R,l as I,$ as j,k as m,w as d,a0 as se,m as h,o as T,K as N,n as oe,r as Le,q as Q,a1 as ye,z as G,D as Me,a2 as Z,a3 as we,c as W,u as J,g as x,b as $,B as ke,x as V,a4 as Ae,t as Ce,j as Ve,p as Be,G as Te,H as re,I as Ee,J as Se}from"../chunks/scheduler.y_e3x3CM.js";import{S as P,i as H,t as g,g as z,a as v,c as Y,b as ee,d as te,m as le,e as ne}from"../chunks/index.nOtMRckJ.js";import{t as qe,c as Ie,b as Ue,f as be,g as Oe,L as E,a as X,l as ae,h as Pe,m as He,e as K,u as ze,i as Ye,o as Fe}from"../chunks/stores.JVLvddVK.js";import{d as Ne}from"../chunks/index.8mv9QP7T.js";/* empty css                    */const Re=!1,vt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Re},Symbol.toStringTag,{value:"Module"}));function Xe(o){let t=0,n=0,e=o.length;return o.forEach(l=>{t+=l[0],n+=l[1]}),[t/e,n/e]}async function De(o){const t="https://native-land.ca/wp-json/nativeland/v1/api/index.php?maps=territories";try{const e=await(await fetch(t)).json();L.geoJSON(e,{style:l=>({color:l.properties.color,weight:2,opacity:.25,fillOpacity:.25})}).addTo(o)}catch(n){console.error("Error fetching territories data:",n)}}function je(o,t){console.log("Adding territory labels"),L.geoJSON(t,{onEachFeature:(n,e)=>{if(n.geometry.type==="Polygon"){console.log("Adding label for",n.properties.Name);const l=Xe(n.geometry.coordinates[0]);console.log("Centroid:",l),!isNaN(l[0])&&!isNaN(l[1])&&L.marker([l[1],l[0]],{icon:L.divIcon({className:"territory-label",html:n.properties.Name,iconSize:L.point(100,40)})}).addTo(o)}}})}function Ke(o){let t;return{c(){t=D("path"),this.h()},l(n){t=j(n,"path",{d:!0}),b(t).forEach(m),this.h()},h(){d(t,"d","M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21")},m(n,e){h(n,t,e)},d(n){n&&m(t)}}}function Qe(o){let t,n;return{c(){t=D("path"),n=D("path"),this.h()},l(e){t=j(e,"path",{d:!0}),b(t).forEach(m),n=j(e,"path",{d:!0}),b(n).forEach(m),this.h()},h(){d(t,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),d(n,"d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z")},m(e,l){h(e,t,l),h(e,n,l)},d(e){e&&(m(t),m(n))}}}function Ge(o){let t,n,e="üó∫Ô∏è",l,i,r,s,a,c,f='<svg class="svgSize svelte-1bvuwr5" width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.800017 9.54074L15.8136 16.3514C16.2519 16.5506 16.7475 16.5506 17.1858 16.3514L32.1993 9.54074C33.266 9.0567 33.266 7.44474 32.1993 6.96071L17.1864 0.149366C16.9711 0.0509415 16.7371 0 16.5003 0C16.2636 0 16.0296 0.0509415 15.8142 0.149366L0.800017 6.96006C-0.266672 7.4441 -0.266672 9.0567 0.800017 9.54074ZM32.2 15.2306L28.4559 13.5336L18.0378 18.256C17.5506 18.4771 17.033 18.5892 16.5 18.5892C15.967 18.5892 15.4501 18.4771 14.9622 18.256L4.54471 13.5336L0.800017 15.2306C-0.266672 15.714 -0.266672 17.3253 0.800017 17.8087L15.8136 24.6142C16.2519 24.8128 16.7475 24.8128 17.1858 24.6142L32.2 17.8087C33.2667 17.3253 33.2667 15.714 32.2 15.2306ZM32.2 23.4676L28.4701 21.777L18.0378 26.5059C17.5506 26.727 17.033 26.8391 16.5 26.8391C15.967 26.8391 15.4501 26.727 14.9622 26.5059L4.53053 21.777L0.800017 23.4676C-0.266672 23.951 -0.266672 25.5623 0.800017 26.0457L15.8136 32.8513C16.2519 33.0498 16.7475 33.0498 17.1858 32.8513L32.2 26.0457C33.2667 25.5623 33.2667 23.951 32.2 23.4676Z" fill="black"></path></svg>',_,p,B='<svg class="svgSize svelte-1bvuwr5" width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_14_196" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="54" height="54"><rect width="54" height="54" fill="#D9D9D9"></rect></mask><g mask="url(#mask0_14_196)"><path d="M24.75 47.25V32.4L14.2875 42.9188L11.0813 39.7125L21.6 29.25H6.75V24.75H21.6L11.0813 14.2875L14.2875 11.0813L24.75 21.6V6.75H29.25V21.6L39.7125 11.0813L42.9188 14.2875L32.4 24.75H47.25V29.25H32.4L42.9188 39.7125L39.7125 42.9188L29.25 32.4V47.25H24.75Z" fill="white"></path></g></svg>',y,S;function F(w,u){return w[0]?Qe:Ke}let U=F(o),M=U(o);return{c(){t=k("div"),n=k("button"),n.textContent=e,l=q(),i=k("button"),r=D("svg"),M.c(),a=q(),c=k("button"),c.innerHTML=f,_=q(),p=k("button"),p.innerHTML=B,this.h()},l(w){t=A(w,"DIV",{class:!0});var u=b(t);n=A(u,"BUTTON",{class:!0,"data-svelte-h":!0}),R(n)!=="svelte-1tkyn7r"&&(n.textContent=e),l=I(u),i=A(u,"BUTTON",{type:!0,title:!0,class:!0});var C=b(i);r=j(C,"svg",{fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,viewBox:!0,stroke:!0});var ie=b(r);M.l(ie),ie.forEach(m),C.forEach(m),a=I(u),c=A(u,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(c)!=="svelte-10xbff9"&&(c.innerHTML=f),_=I(u),p=A(u,"BUTTON",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-w6upvn"&&(p.innerHTML=B),u.forEach(m),this.h()},h(){d(n,"class","svelte-1bvuwr5"),d(r,"fill","none"),d(r,"stroke-linecap","round"),d(r,"stroke-linejoin","round"),d(r,"stroke-width",s=o[0]?2:1),d(r,"viewBox","0 0 24 24"),d(r,"stroke","currentColor"),d(i,"type","button"),d(i,"title","Show Markers"),d(i,"class","svelte-1bvuwr5"),se(i,"selected",o[0]),d(c,"class","selected svelte-1bvuwr5"),d(c,"title","Cycle Map Style"),d(p,"class","selected svelte-1bvuwr5"),d(t,"class","flex flex-col svelte-1bvuwr5")},m(w,u){h(w,t,u),T(t,n),T(t,l),T(t,i),T(i,r),M.m(r,null),T(t,a),T(t,c),T(t,_),T(t,p),y||(S=[N(n,"click",o[4]),N(i,"click",o[1]),N(c,"click",o[2]),N(p,"click",o[3])],y=!0)},p(w,[u]){U!==(U=F(w))&&(M.d(1),M=U(w),M&&(M.c(),M.m(r,null))),u&1&&s!==(s=w[0]?2:1)&&d(r,"stroke-width",s),u&1&&se(i,"selected",w[0])},i:oe,o:oe,d(w){w&&m(t),M.d(),y=!1,Le(S)}}}function Ze(o,t,n){let e=!0;function l(){n(0,e=!e),qe(e)}function i(){Ie(),console.log("triggerCycleMapStyle")}function r(){Ue()}function s(){be.update(a=>!a)}return[e,l,i,r,s]}class We extends P{constructor(t){super(),H(this,t,Ze,Ge,O,{})}}function ce(o){let t;const n=o[8].default,e=W(n,o,o[7],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,i){e&&e.m(l,i),t=!0},p(l,i){e&&e.p&&(!t||i&128)&&J(e,n,l,l[7],t?$(n,l[7],i,null):x(l[7]),null)},i(l){t||(g(e,l),t=!0)},o(l){v(e,l),t=!1},d(l){e&&e.d(l)}}}function Je(o){let t,n,e=o[0]&&ce(o);return{c(){t=k("div"),e&&e.c(),this.h()},l(l){t=A(l,"DIV",{class:!0});var i=b(t);e&&e.l(i),i.forEach(m),this.h()},h(){d(t,"class","w-full h-full")},m(l,i){h(l,t,i),e&&e.m(t,null),o[9](t),n=!0},p(l,[i]){l[0]?e?(e.p(l,i),i&1&&g(e,1)):(e=ce(l),e.c(),g(e,1),e.m(t,null)):e&&(z(),v(e,1,1,()=>{e=null}),Y())},i(l){n||(g(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d(),o[9](null)}}}function xe(o,t,n){let e;Q(o,Oe,u=>n(6,e=u));let{$$slots:l={},$$scope:i}=t,{bounds:r=void 0}=t,{view:s=void 0}=t,{zoom:a=void 0}=t;const c=ye();let f,_,p,B=null,y=null,S=null;function F(u){S||fetch("https://native-land.ca/wp-json/nativeland/v1/api/index.php?maps=territories").then(C=>C.json()).then(C=>{S=C,B=De(u),y=je(u,C)})}const U=E.Control.extend({onAdd(u){const C=E.DomUtil.create("div","map-toolbar-container");return new We({target:C,props:{}}),C}});G(()=>{if(!r&&(!s||!a))throw new Error("Must set either bounds, or view and zoom.");n(0,f=E.map(_)),r?(f.fitBounds(r),X.set(r)):s&&a&&f.setView(s,a),f.whenReady(()=>{if(!r){const u=f.getBounds();console.log("Initial bounds set:",u),X.set(u)}n(5,p=new ae({Language:"fr",style:E.MaptilerStyle.SATELLITE,apiKey:"mPMxMiVPDDH0atXxMfF6"}).addTo(f)),new U({position:"topright"}).addTo(f)}),f.on("zoom",u=>c("zoom",u)).on("moveend",()=>{const u=f.getBounds();X.set(u)}).on("popupopen",async u=>{await Me(),u.popup.update()})}),be.subscribe(u=>{u?!B||!y?F(f):(f.addLayer(B),f.addLayer(y)):(B&&f.removeLayer(B),y&&f.removeLayer(y))}),Z(()=>{f==null||f.remove(),n(0,f=void 0)}),we("map",{getMap:()=>f});function M(u){f&&p&&(f.removeLayer(p),n(5,p=new ae({style:u,apiKey:"mPMxMiVPDDH0atXxMfF6"}).addTo(f)))}function w(u){ke[u?"unshift":"push"](()=>{_=u,n(1,_)})}return o.$$set=u=>{"bounds"in u&&n(2,r=u.bounds),"view"in u&&n(3,s=u.view),"zoom"in u&&n(4,a=u.zoom),"$$scope"in u&&n(7,i=u.$$scope)},o.$$.update=()=>{o.$$.dirty&29&&f&&(r?f.fitBounds(r):s&&a&&f.setView(s,a)),o.$$.dirty&97&&e&&(console.log("UUUUUpdating map style to",e),f&&p&&M(e)),o.$$.dirty&64&&console.log("LEAFLET Current Map Style Index:",e)},[f,_,r,s,a,p,e,i,l,w]}class $e extends P{constructor(t){super(),H(this,t,xe,Je,O,{bounds:2,view:3,zoom:4})}}const et="data:image/png;base64,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",tt=""+new URL("../assets/custom-marker-white-outline.ja7aQokX.png",import.meta.url).href;function fe(o){let t;const n=o[5].default,e=W(n,o,o[4],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,i){e&&e.m(l,i),t=!0},p(l,i){e&&e.p&&(!t||i&16)&&J(e,n,l,l[4],t?$(n,l[4],i,null):x(l[4]),null)},i(l){t||(g(e,l),t=!0)},o(l){v(e,l),t=!1},d(l){e&&e.d(l)}}}function lt(o){let t,n,e=o[0]&&fe(o);return{c(){e&&e.c(),t=V()},l(l){e&&e.l(l),t=V()},m(l,i){e&&e.m(l,i),h(l,t,i),n=!0},p(l,[i]){l[0]?e?(e.p(l,i),i&1&&g(e,1)):(e=fe(l),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(z(),v(e,1,1,()=>{e=null}),Y())},i(l){n||(g(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d(l)}}}function nt(o,t,n){let{$$slots:e={},$$scope:l}=t,{width:i}=t,{height:r}=t,{latLng:s}=t,a,c;const f=Ae("map");we("layer",{getLayer:()=>a});function _(p){let y=`<img src="${p==="dark"?tt:et}" style="width: ${i}px; height: ${r}px;">`,S=E.divIcon({html:y,className:"map-marker",iconSize:E.point(i,r)});a?a.setIcon(S):c&&n(0,a=E.marker(s,{icon:S}).addTo(c))}return G(()=>{c=f.getMap(),Pe.subscribe(p=>{_(p)})}),Z(()=>{a&&(a.remove(),n(0,a=void 0))}),o.$$set=p=>{"width"in p&&n(1,i=p.width),"height"in p&&n(2,r=p.height),"latLng"in p&&n(3,s=p.latLng),"$$scope"in p&&n(4,l=p.$$scope)},[a,i,r,s,l,e]}class it extends P{constructor(t){super(),H(this,t,nt,lt,O,{width:1,height:2,latLng:3})}}function ue(o){let t;const n=o[3].default,e=W(n,o,o[2],null);return{c(){e&&e.c()},l(l){e&&e.l(l)},m(l,i){e&&e.m(l,i),t=!0},p(l,i){e&&e.p&&(!t||i&4)&&J(e,n,l,l[2],t?$(n,l[2],i,null):x(l[2]),null)},i(l){t||(g(e,l),t=!0)},o(l){v(e,l),t=!1},d(l){e&&e.d(l)}}}function st(o){let t,n,e=o[1]&&ue(o);return{c(){t=k("div"),e&&e.c()},l(l){t=A(l,"DIV",{});var i=b(t);e&&e.l(i),i.forEach(m)},m(l,i){h(l,t,i),e&&e.m(t,null),o[4](t),n=!0},p(l,[i]){l[1]?e?(e.p(l,i),i&2&&g(e,1)):(e=ue(l),e.c(),g(e,1),e.m(t,null)):e&&(z(),v(e,1,1,()=>{e=null}),Y())},i(l){n||(g(e),n=!0)},o(l){v(e),n=!1},d(l){l&&m(t),e&&e.d(),o[4](null)}}}function ot(o,t,n){let{$$slots:e={},$$scope:l}=t,i,r,s=!1;const c=Ae("layer").getLayer();G(()=>{i=E.popup().setContent(r),c&&(c.bindPopup(i),c.on("popupopen",()=>n(1,s=!0)),c.on("popupclose",()=>n(1,s=!1)))}),Z(()=>{c&&c.unbindPopup(),i&&(i.remove(),i=void 0)});function f(_){ke[_?"unshift":"push"](()=>{r=_,n(0,r)})}return o.$$set=_=>{"$$scope"in _&&n(2,l=_.$$scope)},[r,s,l,e,f]}class rt extends P{constructor(t){super(),H(this,t,ot,st,O,{})}}function me(o,t,n){const e=o.slice();return e[3]=t[n].latLng,e[4]=t[n].visible,e[5]=t[n].name,e[6]=t[n].description,e[7]=t[n].photos,e[9]=n,e}function pe(o,t,n){const e=o.slice();return e[10]=t[n].url,e[11]=t[n].alt,e}function de(o){let t,n;return t=new it({props:{latLng:o[3],width:20,height:20,$$slots:{default:[ct]},$$scope:{ctx:o}}}),{c(){ee(t.$$.fragment)},l(e){te(t.$$.fragment,e)},m(e,l){le(t,e,l),n=!0},p(e,l){const i={};l&2&&(i.latLng=e[3]),l&16386&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(e){n||(g(t.$$.fragment,e),n=!0)},o(e){v(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function he(o){let t,n=K(o[7]),e=[];for(let l=0;l<n.length;l+=1)e[l]=ge(pe(o,n,l));return{c(){t=k("div");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=A(l,"DIV",{class:!0});var i=b(t);for(let r=0;r<e.length;r+=1)e[r].l(i);i.forEach(m),this.h()},h(){d(t,"class","flex flex-row overflow-x-auto")},m(l,i){h(l,t,i);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(l,i){if(i&2){n=K(l[7]);let r;for(r=0;r<n.length;r+=1){const s=pe(l,n,r);e[r]?e[r].p(s,i):(e[r]=ge(s),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},d(l){l&&m(t),Te(e,l)}}}function ge(o){let t,n,e;return{c(){t=k("img"),this.h()},l(l){t=A(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){re(t.src,n=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${o[10]}`)||d(t,"src",n),d(t,"alt",e=o[11]),d(t,"class","svelte-1i8asw7")},m(l,i){h(l,t,i)},p(l,i){i&2&&!re(t.src,n=`https://www.veterans.gc.ca/images/remembrance/memorials/national-inventory-canadian-memorials/mem/${l[10]}`)&&d(t,"src",n),i&2&&e!==(e=l[11])&&d(t,"alt",e)},d(l){l&&m(t)}}}function _e(o){let t,n,e=o[6]+"";return{c(){t=k("p"),n=new Ee(!1),this.h()},l(l){t=A(l,"P",{class:!0});var i=b(t);n=Se(i,!1),i.forEach(m),this.h()},h(){n.a=null,d(t,"class","description max-h-32 overflow-y-auto svelte-1i8asw7")},m(l,i){h(l,t,i),n.m(e,t)},p(l,i){i&2&&e!==(e=l[6]+"")&&n.p(e)},d(l){l&&m(t)}}}function at(o){let t,n=o[5]+"",e,l,i,r,s=o[7]&&o[7].length&&he(o),a=o[6]&&_e(o);return{c(){t=k("h3"),e=Ce(n),l=q(),s&&s.c(),i=q(),a&&a.c(),r=V()},l(c){t=A(c,"H3",{});var f=b(t);e=Ve(f,n),f.forEach(m),l=I(c),s&&s.l(c),i=I(c),a&&a.l(c),r=V()},m(c,f){h(c,t,f),T(t,e),h(c,l,f),s&&s.m(c,f),h(c,i,f),a&&a.m(c,f),h(c,r,f)},p(c,f){f&2&&n!==(n=c[5]+"")&&Be(e,n),c[7]&&c[7].length?s?s.p(c,f):(s=he(c),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null),c[6]?a?a.p(c,f):(a=_e(c),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(c){c&&(m(t),m(l),m(i),m(r)),s&&s.d(c),a&&a.d(c)}}}function ct(o){let t,n,e;return t=new rt({props:{$$slots:{default:[at]},$$scope:{ctx:o}}}),{c(){ee(t.$$.fragment),n=q()},l(l){te(t.$$.fragment,l),n=I(l)},m(l,i){le(t,l,i),h(l,n,i),e=!0},p(l,i){const r={};i&16386&&(r.$$scope={dirty:i,ctx:l}),t.$set(r)},i(l){e||(g(t.$$.fragment,l),e=!0)},o(l){v(t.$$.fragment,l),e=!1},d(l){l&&m(n),ne(t,l)}}}function ve(o,t){let n,e,l,i=t[4]&&de(t);return{key:o,first:null,c(){n=V(),i&&i.c(),e=V(),this.h()},l(r){n=V(),i&&i.l(r),e=V(),this.h()},h(){this.first=n},m(r,s){h(r,n,s),i&&i.m(r,s),h(r,e,s),l=!0},p(r,s){t=r,t[4]?i?(i.p(t,s),s&2&&g(i,1)):(i=de(t),i.c(),g(i,1),i.m(e.parentNode,e)):i&&(z(),v(i,1,1,()=>{i=null}),Y())},i(r){l||(g(i),l=!0)},o(r){v(i),l=!1},d(r){r&&(m(n),m(e)),i&&i.d(r)}}}function ft(o){let t=[],n=new Map,e,l,i=K(o[1]);const r=s=>s[3].join(",")+"-"+s[9];for(let s=0;s<i.length;s+=1){let a=me(o,i,s),c=r(a);n.set(c,t[s]=ve(c,a))}return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=V()},l(s){for(let a=0;a<t.length;a+=1)t[a].l(s);e=V()},m(s,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(s,a);h(s,e,a),l=!0},p(s,a){a&2&&(i=K(s[1]),z(),t=ze(t,a,r,1,s,i,n,e.parentNode,Fe,ve,e,me),Y())},i(s){if(!l){for(let a=0;a<i.length;a+=1)g(t[a]);l=!0}},o(s){for(let a=0;a<t.length;a+=1)v(t[a]);l=!1},d(s){s&&m(e);for(let a=0;a<t.length;a+=1)t[a].d(s)}}}function ut(o){let t,n="counter*map",e,l,i,r;return i=new $e({props:{view:o[0],zoom:4,$$slots:{default:[ft]},$$scope:{ctx:o}}}),{c(){t=k("h1"),t.textContent=n,e=q(),l=k("div"),ee(i.$$.fragment),this.h()},l(s){t=A(s,"H1",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1p1kd7m"&&(t.textContent=n),e=I(s),l=A(s,"DIV",{class:!0});var a=b(l);te(i.$$.fragment,a),a.forEach(m),this.h()},h(){d(t,"class","svelte-1i8asw7"),d(l,"class","w-full h-screen")},m(s,a){h(s,t,a),h(s,e,a),h(s,l,a),le(i,l,null),r=!0},p(s,[a]){const c={};a&1&&(c.view=s[0]),a&16386&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){r||(g(i.$$.fragment,s),r=!0)},o(s){v(i.$$.fragment,s),r=!1},d(s){s&&(m(t),m(e),m(l)),ne(i)}}}function mt(o,t,n){let e,l;Q(o,Ye,r=>n(0,e=r));const i=Ne([He,X],([r,s])=>!s||typeof s.contains!="function"?[]:r.filter(a=>{const[c,f]=a.latLng;return s.contains(E.latLng(c,f))}));return Q(o,i,r=>n(1,l=r)),[e,l,i]}class wt extends P{constructor(t){super(),H(this,t,mt,ut,O,{})}}export{wt as component,vt as universal};
